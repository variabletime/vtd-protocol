{"version":3,"sources":["utils/storage.ts","utils/infura.js","constants/tokens.js","constants/values.js","utils/number.ts","components/common/AddressBlock.tsx","components/common/BalanceBlock.tsx","components/common/StatsRowItem.tsx","components/common/SectionTitle.tsx","components/common/MaxButton.tsx","components/common/PriceSection.tsx","components/common/Comment.tsx","components/common/Wrapper.tsx","components/common/CheckBox.tsx","components/Wallet/Header.tsx","utils/txNotifier.ts","utils/web3.js","components/common/BigNumberInput.tsx","components/Pool/WithdrawDeposit.tsx","components/common/TextBlock.tsx","components/Pool/BondUnbond.tsx","components/Pool/Header.tsx","components/Pool/Claim.tsx","components/Pool/Provide.tsx","store/MainStore.tsx","components/Pool/index.tsx","components/Pool/EmptyPool.tsx","components/Wallet/WithdrawDeposit.tsx","components/Wallet/BondUnbond.tsx","store/EpochStore.tsx","components/Wallet/MomentumHeader.tsx","components/EpochDetail/index.tsx","components/layout/overlay.tsx","components/Wallet/index.tsx","components/Stats/index.tsx","components/CouponMarket/Header.tsx","components/CouponMarket/PurchaseCoupons.tsx","components/CouponMarket/PurchaseHistory.tsx","components/CouponMarket/ModalWarning.tsx","components/CouponMarket/index.tsx","components/Governance/Header.tsx","utils/gov.ts","components/Governance/ProposeCandidate.tsx","components/Governance/CandidateHistory.tsx","components/Governance/index.tsx","components/Candidate/Vote.tsx","components/Candidate/VoteHeader.tsx","components/common/NumberBlock.tsx","components/Candidate/CommitHeader.tsx","components/Candidate/Commit.tsx","components/common/IconHeader.tsx","components/Candidate/index.tsx","components/Regulation/Header.tsx","components/Regulation/RegulationHistory.tsx","components/Regulation/index.tsx","components/HomePageNoWeb3/index.tsx","theme/index.js","components/layout/sidebar/active-link.tsx","components/layout/sidebar/side-item.tsx","utils/txStatus.ts","components/layout/sidebar/PendingTx.tsx","components/layout/sidebar/index.tsx","components/layout/sidebar/tabbar-mobile.tsx","components/layout/sidebar/ConnectModal.tsx","components/layout/sidebar/ConnectButton.tsx","components/layout/layout.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["getPreference","key","defaultValue","localStorage","getItem","storePreference","value","setItem","web3","VTD","VTDD","MAX_UINT256","BigNumber","pow","minus","GOVERNANCE_QUORUM","SUPERMAJORITY","GOVERNANCE_PROPOSAL_THRESHOLD","dollarAbi","require","daoAbi","oldRegulationsAbi","oracleAbi","poolAbi","uniswapPairAbi","undefined","window","ethereum","Web3","getTokenBalance","token","account","a","tokenContract","eth","Contract","methods","balanceOf","call","getTokenTotalSupply","totalSupply","getTokenAllowance","spender","allowance","getBalanceBonded","dao","daoContract","balanceOfBonded","getBalanceOfStaged","balanceOfStaged","getStatusOf","statusOf","getFluidUntil","fluidUntil","getLockedUntil","lockedUntil","getEpoch","epoch","getEpochTime","epochTime","getNextEpochTimestamp","nextEpochTimestamp","getCurrentEpochLength","currentEpochLength","getTotalDebt","totalDebt","getTotalRedeemable","totalRedeemable","getTotalCoupons","totalCoupons","getTotalBonded","totalBonded","getTotalStaged","totalStaged","getTotalBondedAt","totalBondedAt","getApproveFor","candidate","approveFor","getRejectFor","rejectFor","getStartFor","startFor","getPeriodFor","periodFor","getIsInitialized","isInitialized","getRecordedVote","recordedVote","getBalanceOfCoupons","balanceOfCoupons","getBatchBalanceOfCoupons","epochs","calls","map","Promise","all","getCouponsExpiration","couponsExpiration","getBatchCouponsExpiration","getCouponPremium","amount","couponPremium","toFixed","getImplementation","implementation","getCouponEpochs","purchaseP","getPastEvents","filter","fromBlock","transferP","to","bought","given","events","e","returnValues","couponAmount","concat","couponEpochs","reduce","event","prev","get","set","coupons","plus","Map","values","sort","b","getAllProposals","payload","prop","blockNumber","getAllRegulations","oldDaoContract","increaseP","decreaseP","neutralP","increase","decrease","neutral","oincreaseP","odecreaseP","oneutralP","oincrease","odecrease","oneutral","type","data","sorted","getOracleTwap","oracle","oracleContract","getLastPrice","res","getReserves","pairAddress","exchange","getInstantaneousPrice","counterTokenAddr","getToken0","reserve","token0","token0Balance","_reserve0","token1Balance","_reserve1","toLowerCase","dividedBy","getPoolStatusOf","pool","poolContract","getPoolBalanceOfBonded","getPoolBalanceOfStaged","getPoolBalanceOfRewarded","balanceOfRewarded","getPoolBalanceOfClaimable","balanceOfClaimable","getPoolTotalBonded","getPoolTotalRewarded","totalRewarded","getPoolTotalClaimable","totalClaimable","getPoolFluidUntil","getBlockNumber","bondP","unbondP","bond","unbond","startEpoch","start","parseInt","toString","toBaseUnitBN","rawAmt","decimals","raw","base","decimalsBN","times","integerValue","toTokenUnitsBN","tokenAmount","tokenDecimals","amt","digits","div","isPos","isZero","isPositive","ownership","balance","multipliedBy","formatBN","position","isLessThan","bnStr","includes","parts","split","i","length","pad","precision","ROUND_FLOOR","replace","delineate","formatMoney","n","toPrecision","Math","abs","Number","AddressBlock","label","address","style","fontSize","padding","IdentityBadge","entity","shorten","BalanceBlock","asset","suffix","integer","balanceBN","gte","tokens","StatsRowItem","display","lineHeight","flex","backgroundPosition","backgroundSize","backgroundImage","backgroundRepeat","SectionTitle","MaxButton","onClick","ButtonBase","opacity","PriceSection","symbol","forceDisplay","amtBN","gt","toNumber","Comment","styled","MyCheckBox","text","checked","onCheck","theme","useTheme","CheckBoxWrapper","Checkbox","onChange","margin","props","surfaceContentSecondary","fm","bn","STATUS_MAP","status","accountStatus","unlocked","AccountPageHeader","accountVTDBalance","accountVTDSBalance","totalVTDSSupply","accountStagedBalance","accountBondedBalance","flexWrap","alignItems","justifyContent","notify","v","console","log","testnetUSDCAbi","UINT256_MAX","connect","getAccounts","addresses","enable","checkConnectedAndGetAddress","approve","tokenAddr","oToken","send","from","on","hash","advance","tryAdvance","deposit","withdraw","unbondUnderlying","purchaseCoupons","redeemCoupons","recordVote","voteType","vote","commit","depositPool","callback","withdrawPool","bondPool","unbondPool","claimPool","claim","providePool","provide","BigNumberInput","setter","adornment","disabled","TextInput","adornmentPosition","wide","isNegative","target","onBlur","WithdrawDeposit","poolAddress","user","stagedBalance","peg","useState","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","Box","heading","paddingTop","comparedTo","width","minWidth","Button","icon","IconCirclePlus","IconLock","pair","flexBasis","IconCircleMinus","addr","TextBlock","BondUnbond","staged","bonded","lockup","bondAmount","setBondAmount","unbondAmount","setUnbondAmount","IconCaution","textAlign","PoolPageHeader","accountUNIBalance","accountRewardedVTDBalance","accountClaimableVTDBalance","poolTotalBonded","accountPoolStatus","xs","sm","Claim","claimable","claimAmount","setClaimAmount","IconArrowDown","Provide","rewarded","pairBalanceVTD","pairBalancePeg","userPEGBalance","userPEGAllowance","provideAmount","setProvideAmount","usdcAmount","setUsdcAmount","PEGToVTDRatio","onChangeAmountVTD","amountVTD","amountVTDBN","amountVTDBU","newAmountPEG","IconArrowUp","isGreaterThan","initialPeggedTokens","name","usdcPair","enabled","stats","vtdBalance","pegBalance","poolReward","poolClaimable","price","lastTwap","usdcPrice","initialTotals","totalLPSupply","totalLPBonded","circulating","totalCoupon","MainContext","React","createContext","MainStoreProvider","children","peggedTokens","setPeggedTokenPools","totals","setTotals","updateTotals","totalSupplyStr","totalBondedStr","totalStagedStr","totalRedeemableStr","totalDebtStr","totalCouponsStr","poolTotal","totalLiquidityPoolSupply","forEach","newTotals","Provider","updatePools","oracleTwap","multiplier","rawUsdcPrice","_peg","Pool","override","useParams","setPoolAddress","userUNIBalance","setUserUNIBalance","userUNIAllowance","setUserUNIAllowance","setUserPEGBalance","setUserPEGAllowance","userStagedBalance","setUserStagedBalance","userBondedBalance","setUserBondedBalance","userRewardedBalance","setUserRewardedBalance","userClaimableBalance","setUserClaimableBalance","userStatus","setUserStatus","userStatusUnlocked","setUserStatusUnlocked","tokensPanelOpened","setTokensPanelOpened","rewardPanelOpened","setRewardPanelOpened","downMD","useContext","useMediaQuery","match","useEffect","isCancelled","updateUserInfo","poolAddressStr","usdcBalance","usdcAllowance","bondedBalance","rewardedBalance","claimableBalance","fluidUntilStr","id","setInterval","clearInterval","background","palette","accents_1","Container","gap","justify","md","y","size","ghost","open","SidePanel","title","opened","onClose","EmptyPool","flexDirection","EpochContext","initialEpochData","previousEpochTimestamp","EpochStoreProvider","regulations","setRegulations","epochData","setEpochData","updateRegulations","allRegulations","_regs","result","index","momentumPrice","deltaRedeemable","deltaDebt","deltaBonded","updateEpochData","nextEpochTimestampStr","currentEpochLengthStr","MomentumHeader","upSM","priceWeight","Date","now","estimatedTwap","regs","reverse","slice","prices","reg","labels","x","nextChange","price_data","datasets","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","borderWidth","hoverBackgroundColor","hoverBorderColor","options","responsive","layout","left","right","top","bottom","scales","yAxes","ticks","xAxes","shadow","accents_3","color","accents_6","height","legend","EpochDetail","setEpoch","setEpochTime","setNextEpochTimestamp","setCurrentEpochLength","advanceMode","setAdvanceMode","endDate","calcAdvanceMode","currentEpochLengthFmt","d","h","floor","m","s","secondsToHms","epochStr","epochTimeStr","marginTop","Content","Subtitle","accents_4","Timer","showEmpty","format","end","Footer","Status","Text","Actions","auto","Overlay","customVisible","visible","setVisible","className","preventDefault","zIndex","Wallet","sidePanelOpened","setSidePanelOpened","userVTDBalance","setUserVTDBalance","userVTDAllowance","setUserVTDAllowance","userVTDSBalance","setUserVTDSBalance","setTotalVTDSSupply","vtdAllowance","vtdsBalance","vtdsSupply","lockedUntilStr","max","accents_2","ONE_COUPON","Stats","setCouponPremium","marketcap","totalYield","delta","daoYield","compound","rate","days","real_rate","LPYield","share","supply","vtdPrice","lp_size","calcLinearYield","couponPremiumStr","peggedToken","hasOwnProperty","marginLeft","CouponMarketHeader","debt","premium","redeemable","PurchaseCoupons","purchaseAmount","setPurchaseAmount","setPremium","updatePremium","lte","purchaseAmountBase","premiumFormatted","maxPurchaseAmount","PurchaseHistory","hideRedeemed","setEpochs","page","setPage","initialized","setInitialized","epochsFromEvents","epochNumbers","couponsExpirations","expiration","DataView","fields","entries","entriesPerPage","onPageChange","renderEntry","ModalWarning","storedShowWarning","showWarning","setShowWarning","Modal","closeButton","warning","warningSurfaceContent","CouponMarket","storedHideRedeemed","setBalance","setAllowance","setSupply","setCoupons","setRedeemable","setDebt","setHideRedeemed","balanceStr","allowanceStr","userBalance","supplyStr","debtStr","couponsStr","redeemableStr","alignSelf","CheckBox","GovernanceHeader","stake","totalStake","proposalStatus","period","reject","total","canPropose","plausibleCandidate","test","ProposeCandidate","setCandidate","IconToken","formatProposals","proposals","currentTotalStake","p","initializeds","approves","rejecteds","at","supplyAts","CandidateHistory","history","useHistory","setProposals","allProposals","formattedProposals","proposal","IconRight","push","Governance","setStake","setTotalStake","setImplementation","statusStr","stakeStr","totalStakeStr","implementationStr","VOTE_TYPE_MAP","Vote","IconRotateLeft","IconCircleCheck","IconProhibited","participation","dividedToIntegerBy","VoteHeader","showParticipation","NumberBlock","num","numNum","CommitHeader","periodEpoch","Commit","approved","IconUpload","IconHeader","marginRight","primary","Candidate","setApproveFor","setRejectFor","setVote","setStatus","userStake","setUserStake","setStartEpoch","setPeriodEpoch","voteStr","userStakeStr","approveForStr","rejectForStr","startForStr","periodForStr","epochN","startN","periodN","endsAfter","RegulationHeader","daoTotalSupply","Distribution","items","item","percentage","formatPrice","epochtype","formatMomentumPrice","formatDeltaRedeemable","newRedeemable","formatDeltaDebt","lessDebt","newDebt","formatDeltaBonded","newBonded","RegulationHistory","Regulation","setTotalSupply","setTotalBonded","setTotalStaged","setTotalRedeemable","setTotalDebt","setTotalCoupons","Split","secondary","MainButton","description","tag","Tag","HomePageNoWeb3","location","vtdTheme","ActiveLink","memo","href","closeSideBar","useMemo","subtitle","listen","pathname","accents_5","accents_7","success","successLight","SideItem","sides","side","localeName","breakpointMobile","border","url","waitTransaction","txnHash","interval","blocksToWait","transactionReceiptAsync","resolve","receipt","getTransactionReceipt","setTimeout","resolvedReceipt","getBlock","block","number","getTransaction","Error","Array","isArray","promises","oneTxHash","PendingTxButton","pendingTxVisible","setPendingTxVisible","pendingTxStr","setPendingTxStr","opener","setOpener","handleOpenerRef","useCallback","node","_tx","removeItem","tick","ref","fontFamily","borderRadius","LoadingRing","TransactionProgress","transactionHashUrl","SideGroup","Sidebar","boxRef","useRef","PendingTx","TabbarMobile","connectButton","downSM","ConnectModal","onConnect","wallet","useWallet","src","alt","ConnectButton","hasWeb3","setUser","reset","isModalOpen","setModalOpen","connectWeb3","disconnectWeb3","toggleModal","minHeight","IconConnect","Layout","expanded","setExpanded","mobileTabbarClickHandler","App","setHasWeb3","chainId","connectors","walletconnect","rpcUrl","walletlink","appName","appLogoUrl","Theme","path","Boolean","hostname","Moment","locale","momentLocalizer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.77d102a0.chunk.js","sourcesContent":["/**\n * Get value by key\n * @param {string} key\n * @param {string} defaultValue\n */\nexport function getPreference(key:string, defaultValue:string): string {\n  return localStorage.getItem(key) || defaultValue;\n}\n\n/**\n * store value to storage\n * @param {string} key\n * @param {string} value\n */\nexport function storePreference(key:string, value:string):void {\n  localStorage.setItem(key, value);\n}\n","import Web3 from 'web3';\n\nimport BigNumber from 'bignumber.js';\nimport { UniswapV2Router02 } from '../constants/contracts';\nimport { VTD} from '../constants/tokens';\nimport { POOL_EXIT_LOCKUP_EPOCHS } from '../constants/values';\n\nconst dollarAbi = require('../constants/abi/Dollar.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst oldRegulationsAbi = require('../constants/abi/OldRegulationsDao.json');\nconst oracleAbi = require('../constants/abi/Oracle.json');\nconst poolAbi = require('../constants/abi/Pool.json');\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json');\n\nlet web3;\n// eslint-disable-next-line no-undef\nif (window.ethereum !== undefined) {\n  // eslint-disable-next-line no-undef\n  web3 = new Web3(ethereum);\n}\n\n/**\n *\n * @param {string} token address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getTokenBalance = async (token, account) => {\n  if (account === '') return '0';\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.balanceOf(account).call();\n};\n\nexport const getTokenTotalSupply = async (token) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.totalSupply().call();\n};\n\n/**\n *\n * @param {string} token\n * @param {string} account\n * @param {string} spender\n * @return {Promise<string>}\n */\nexport const getTokenAllowance = async (token, account, spender) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.allowance(account, spender).call();\n};\n\n// Dllar Protocol\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceBonded = async (dao, account) => {\n  if (account === '') return '0';\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceOfStaged = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getStatusOf = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.statusOf(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getFluidUntil = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.fluidUntil(account).call();\n  return ''\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getLockedUntil = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.lockedUntil(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpoch = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.epoch().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpochTime = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.epochTime().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getNextEpochTimestamp = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.nextEpochTimestamp().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getCurrentEpochLength = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.currentEpochLength().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalDebt = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalDebt().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalRedeemable = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalRedeemable().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalCoupons = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalCoupons().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalBonded = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalStaged = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalStaged().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getTotalBondedAt = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBondedAt(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getApproveFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.approveFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRejectFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.rejectFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getStartFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.startFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getPeriodFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.periodFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<boolean>}\n */\nexport const getIsInitialized = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.isInitialized(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRecordedVote = async (dao, account, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.recordedVote(account, candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getBalanceOfCoupons = async (dao, account, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfCoupons(account, epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchBalanceOfCoupons = async (dao, account, epochs) => {\n  const calls = epochs.map((epoch) => getBalanceOfCoupons(dao, account, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch address\n * @return {Promise<string>}\n */\nexport const getOutstandingCoupons = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.outstandingCoupons(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getCouponsExpiration = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponsExpiration(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchCouponsExpiration = async (dao, epochs) => {\n  const calls = epochs.map((epoch) => getCouponsExpiration(dao, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string|BigNumber} amount uint256\n * @return {Promise<string>}\n */\nexport const getCouponPremium = async (dao, amount) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponPremium(new BigNumber(amount).toFixed()).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getImplementation = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.implementation().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getPool = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.pool().call();\n};\n\n/**\n *\n * @param {string} dao\n * @param {string} account\n * @return {Promise<any[]>}\n */\nexport const getCouponEpochs = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const purchaseP = daoContract.getPastEvents('CouponPurchase', {\n    filter: { account },\n    fromBlock: 0,\n  });\n  const transferP = daoContract.getPastEvents('CouponTransfer', {\n    filter: { to: account },\n    fromBlock: 0,\n  });\n  const [bought, given] = await Promise.all([purchaseP, transferP]);\n  const events = bought.map((e) => ({epoch: e.returnValues.epoch, amount: e.returnValues.couponAmount}))\n    .concat(given.map((e) => ({epoch: e.returnValues.epoch, amount: 0})));\n\n  const couponEpochs = [\n    ...events.reduce(\n      (map, event) => {\n        const { epoch, amount } = event;\n        const prev = map.get(epoch);\n\n        if (prev) {\n          map.set(epoch, { epoch, coupons: prev.coupons.plus(new BigNumber(amount)) });\n        } else {\n          map.set(epoch, { epoch, coupons: new BigNumber(amount) });\n        }\n\n        return map;\n      },\n      new Map(),\n    ).values(),\n  ];\n\n  return couponEpochs.sort((a, b) => a - b);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllProposals = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const payload = (await daoContract.getPastEvents('Proposal', {\n    fromBlock: 0,\n  })).map((event) => {\n    const prop = event.returnValues;\n    prop.blockNumber = event.blockNumber;\n    return prop;\n  });\n  return payload.sort((a, b) => b.blockNumber - a.blockNumber);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllRegulations = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const oldDaoContract = new web3.eth.Contract(oldRegulationsAbi, dao);\n  \n  const increaseP = daoContract.getPastEvents('SupplyIncrease', { fromBlock: 0 });\n  const decreaseP = daoContract.getPastEvents('SupplyDecrease', { fromBlock: 0 });\n  const neutralP = daoContract.getPastEvents('SupplyNeutral', { fromBlock: 0 });\n\n  let [increase, decrease, neutral] = await Promise.all([increaseP, decreaseP, neutralP]);\n\n  const oincreaseP = oldDaoContract.getPastEvents('SupplyIncrease', { fromBlock: 0 });\n  const odecreaseP = oldDaoContract.getPastEvents('SupplyDecrease', { fromBlock: 0 });\n  const oneutralP = oldDaoContract.getPastEvents('SupplyNeutral', { fromBlock: 0 });\n\n  const [oincrease, odecrease, oneutral] = await Promise.all([oincreaseP, odecreaseP, oneutralP]);\n\n  increase= increase.concat(oincrease)\n  decrease= decrease.concat(odecrease)\n  neutral = neutral.concat(oneutral)\n\n\n  const events = increase.map((e) => ({ type: 'INCREASE', data: e.returnValues }))\n    .concat(decrease.map((e) => ({ type: 'DECREASE', data: e.returnValues })))\n    .concat(neutral.map((e) => ({ type: 'NEUTRAL', data: e.returnValues })));\n\n  const sorted = events.sort((a, b) => b.data.epoch - a.data.epoch);\n  return sorted;\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any>}\n */\nexport const getPoolDistributions = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.updateLiquidityForAllPools().call();;\n};\n\n/**\n *\n * @param {string} oracle\n * @return {Promise<any>}\n */\nexport const getOracleTwap = async (oracle) => {\n  const oracleContract = new web3.eth.Contract(oracleAbi, oracle);\n  const res = await oracleContract.methods.getLastPrice().call();\n  return res[0][0]\n};\n\n// Uniswap Protocol\n\nexport const getCost = async (amount, counterTokenAddr) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [inputAmount, _] = await exchange.methods.getAmountsIn(\n    new BigNumber(amount).toFixed(),\n    [counterTokenAddr, VTD.addr],\n  ).call();\n  return inputAmount;\n};\n\nexport const getProceeds = async (amount, counterTokenAddr) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [_, outputAmount] = await exchange.methods.getAmountsOut(\n    new BigNumber(amount).toFixed(),\n    [VTD.addr, counterTokenAddr],\n  ).call();\n  return outputAmount;\n};\n\nexport const getReserves = async (pairAddress) => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, pairAddress);\n  return exchange.methods.getReserves().call();\n};\n\n// export const getTWAP = async (pairAddress, daoAddress) => {\n//   const daoContract = new web3.eth.Contract(daoAbi, dao);\n//   const exchange = new web3.eth.Contract(uniswapPairAbi, pairAddress);\n//   const previousBlockTimestamp = await daoContract.methods.previousBlockTimestamp().call();\n//   console.log('previousblock', previousBlockTimestamp)\n//   let [_, price0] = await exchange.methods.price0CumulativeLast().call();\n//   let [_, price1] = await exchange.methods.price1CumulativeLast().call();\n//   const data = await exchange.methods.getReserves().call();\n//   const reserve0 = data._reserve0;\n//   const reserve1 = data._reserve1;\n//   const blockTimestampLast = data._blockTimestampLast;\n//   const blockTimestamp = new BigNumber(Date.now()/1000);\n\n//   if (blockTimestampLast != blockTimestamp) {\n//     const timeElapsed = blockTimestamp.sub(blockTimestampLast);\n\n//     price0 += reserve1.div(reserve0).mul(timeElapsed);\n//     price1 += reserve0.div(reserve1).mul(timeElapsed);\n//   }\n\n//   const timeSinceLastEpoch = blockTimestamp.sub(previousBlockTimestamp);\n//   lastPrice*2**112*lastEpochLength\n//   return [price0, price1];\n// };\n\nexport const getInstantaneousPrice = async (counterTokenAddr, pairAddress) => {\n  const [reserve, token0] = await Promise.all([getReserves(pairAddress), getToken0(pairAddress)]);\n  const token0Balance = new BigNumber(reserve._reserve0);\n  const token1Balance = new BigNumber(reserve._reserve1);\n  if (token0.toLowerCase() === counterTokenAddr.toLowerCase()) {\n    // TODO set to DSD amounts\n    return token0Balance.dividedBy(token1Balance);\n    // return token0Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token1Balance);\n\n  }\n  return token1Balance.dividedBy(token0Balance);\n  // return token1Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token0Balance);\n\n};\n\nexport const getToken0 = async (pairAddress) => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, pairAddress);\n  return exchange.methods.token0().call();\n};\n\n// Pool\n\nexport const getPoolStatusOf = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.statusOf(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfBonded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfStaged = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfRewarded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfRewarded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfClaimable = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfClaimable(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalBonded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalRewarded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalRewarded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalClaimable = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalClaimable().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolFluidUntil = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n\n  // no need to look back further than the pool lockup period\n  const blockNumber = await web3.eth.getBlockNumber();\n  const fromBlock = blockNumber - (POOL_EXIT_LOCKUP_EPOCHS + 1) * 8640;\n  const bondP = poolContract.getPastEvents('Bond', {\n    filter: {account: account}, fromBlock: fromBlock });\n  const unbondP = poolContract.getPastEvents('Unbond', {\n    filter: {account: account}, fromBlock: fromBlock });\n\n  const [bond, unbond] = await Promise.all([bondP, unbondP]);\n  const events = bond.map((e) => e.returnValues)\n    .concat(unbond.map((e) => e.returnValues));\n\n  const startEpoch = events.reduce(\n    (epoch, event) => {\n      if (epoch > event.start)\n        return epoch\n      else\n        return event.start\n    }, 0);\n\n  // these contract events report the start epoch as one more than the active\n  // epoch when the event is emitted, so we subtract 1 here to adjust\n  return (parseInt(startEpoch, 10) + POOL_EXIT_LOCKUP_EPOCHS - 1).toString();\n};\n\n/**\n *\n * @param {string} pool address\n * @return {Promise<any[]>}\n */\nexport const getAllPoolBondings = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n\n  const payload = (await poolContract.getPastEvents('Unbond', {\n    fromBlock: 0,\n  })).map((event) => {\n    const prop = event.returnValues;\n    prop.blockNumber = event.blockNumber;\n    return prop;\n  });\n  return payload.sort((a, b) => b.blockNumber < a.blockNumber);\n};\n\nexport const getAllDaoBondings = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n\n  const payload = (await daoContract.getPastEvents('Unbond', {\n    fromBlock: 0,\n  })).map((event) => {\n    const prop = event.returnValues;\n    prop.blockNumber = event.blockNumber;\n    return prop;\n  });\n  return payload.sort((a, b) => b.blockNumber < a.blockNumber);\n};\n\n","export const VTD = {\n  addr: '0xf0E3543744AFcEd8042131582f2A19b6AEb82794',\n  decimals: 18,\n  symbol: 'VTD',\n};\n\nexport const VTDD = {\n  addr: '0x530608409991C36Ba922B69623BEc57e22B8d331',\n  decimals: 18,\n  symbol: 'VTDD',\n};\n\nexport const PeggedTokens = [\n  {\n    name: 'dsd',\n    pair: {\n      addr: '0x2008dDa1Ad792b156599cE55D12Eb82808C80f01',\n      decimals: 18,\n      symbol: 'UNI',\n    },\n    addr: '0xBD2F0Cd039E0BFcf88901C98c0bFAc5ab27566e3',\n    decimals: 18,\n    symbol: 'DSD',\n    pool: '0x623EA23a36bF98a065701B08Be1Ad17246d0E337',\n    oracle: '0x5e3485B75cdD6Ba8C71Df43b7e8e62dB37357a13',\n    usdcPair: '0x66e33d2605c5fb25ebb7cd7528e7997b0afa55e8',\n    enabled: true\n  },\n\n  {\n    name: 'weth',\n    pair: {\n      addr: '0xbAFA2D6db3256c7B2478F130D511759046cE7a9A',\n      decimals: 18,\n      symbol: 'UNI',\n    },\n    addr: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\n    decimals: 18,\n    symbol: 'ETH',\n    pool: '0x26C6ee0F68f9D6cE8dd9d9A8dD972B04D7b94289',\n    oracle: '0x22d1EFAE32841FA741B1DD30eA6E8cF514D57DE9',\n    usdcPair: '0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc',\n    enabled: true\n  },\n\n  {\n    name: 'usdt',\n    pair: {\n      addr: '0xe6f3FA003EA33962A4b71095165375bb9Eb42A4c',\n      decimals: 18,\n      symbol: 'UNI',\n    },\n    addr: '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n    decimals: 6, //IMPORTANT\n    symbol: 'USDT',\n    pool: '0x649f1A91a9693C94747e95C9CE3d9A952Ef652A9',\n    oracle: '0xB518894Be07239C2e78323244617765aDf593E86',\n    usdcPair: '0x3041cbd36888becc7bbcbc0045e3b1f144466f5f',\n    enabled: false\n  },\n\n\n  {\n    name: 'usdc',\n    pair: {\n      addr: '0xBB20875B900BFcf7BcC80A9C11C59a1264a4Bb8c',\n      decimals: 18,\n      symbol: 'UNI',\n    },\n    addr: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    decimals: 6, //IMPORTANT\n    symbol: 'USDC',\n    pool: '0xD3DD32395271bAC888dAAF58Aa7FAF635D6d459F',\n    oracle: '0x3121a778536FaBCe3AC903FE2df242097b79eefD',\n    usdcPair: null,\n    enabled: false\n  },\n\n  {\n    name: 'wbtc',\n    pair: {\n      addr: '0x9C57623199024B20b2157Ef6667C412688006A82',\n      decimals: 18,\n      symbol: 'UNI',\n    },\n    addr: '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',\n    decimals: 18,\n    symbol: 'WBTC',\n    pool: '0x8951303cB54F013b41Bcf762F6210bdc9292c1Ac',\n    oracle: '0xa86b4cf024a49CB47eEa037874bF0B1ae7702F21',\n    usdcPair: '0x004375dff511095cc5a197a54140a24efef3a416',\n    enabled: false\n  }\n]","import BigNumber from 'bignumber.js';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const MAX_UINT256 = new BigNumber(2).pow(256).minus(1);\nexport const GOVERNANCE_QUORUM = new BigNumber('0.20');\nexport const SUPERMAJORITY = new BigNumber('0.50');\nexport const GOVERNANCE_PERIOD = 8\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = new BigNumber('0.005');\nexport const COUPON_EXPIRATION = 180\nexport const DAO_EXIT_LOCKUP_EPOCHS = 18\nexport const POOL_EXIT_LOCKUP_EPOCHS = 9\n","import BigNumber from 'bignumber.js';\n\n/**\n * Convert 10.999 to 10999000\n */\nexport function toBaseUnitBN(rawAmt:string| number| BigNumber, decimals: number):BigNumber {\n  const raw = new BigNumber(rawAmt);\n  const base = new BigNumber(10);\n  const decimalsBN = new BigNumber(decimals);\n  return raw.times(base.pow(decimalsBN)).integerValue();\n}\n\n/**\n * Convert 10999000 to 10.999\n */\nexport const toTokenUnitsBN = (tokenAmount:string|number|BigNumber, tokenDecimals:number): BigNumber => {\n  const amt = new BigNumber(tokenAmount);\n  const digits = new BigNumber(10).pow(new BigNumber(tokenDecimals));\n  return amt.div(digits);\n};\n\nexport const isPos = (amount: BigNumber): boolean => {\n  return !amount.isZero() && amount.isPositive();\n};\n\nexport const ownership = (balance: BigNumber, totalSupply: BigNumber): BigNumber => {\n  return balance.multipliedBy(new BigNumber(100)).dividedBy(totalSupply);\n}\n\n/**\n * BigNumber string formatting\n */\n\nexport const formatBN = (amount: BigNumber, position: number): string => {\n  if (amount.isLessThan(new BigNumber(1))) {\n    return pad(amount.precision(position, BigNumber.ROUND_FLOOR).toFixed(), position);\n\n  }\n  return delineate(amount.toFixed(position, BigNumber.ROUND_FLOOR));\n}\n\nfunction delineate(bnStr) {\n  const parts = bnStr.split('.');\n  return parts[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \".\" + parts[1];\n}\n\nfunction pad(bnStr, position) {\n  if (!bnStr.includes(\".\")) {\n    bnStr += \".\";\n  }\n\n  const parts = bnStr.split(\".\");\n  for (let i = 0; i < position - parts[1].length; i++) {\n    bnStr += \"0\";\n  }\n\n  return bnStr\n}\n\nexport function formatMoney(n) {\n  n = n.toPrecision(3)\n  return Math.abs(Number(n)) >= 1.0e+9\n    ? Math.abs(Number(n)) / 1.0e+9 + \"B\"\n    : Math.abs(Number(n)) >= 1.0e+6\n      ? Math.abs(Number(n)) / 1.0e+6 + \"MM\"\n      : Math.abs(Number(n)) >= 1.0e+3\n        ? Math.abs(Number(n)) / 1.0e+3 + \"K\"\n        : Math.abs(Number(n));\n}","import React from 'react';\nimport { IdentityBadge } from '@aragon/ui';\n\ntype AddressBlockProps = {\n  label:string,\n  address: string\n}\n\nfunction AddressBlock({ label, address }: AddressBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ padding: 5 }}>\n        <IdentityBadge entity={address} shorten />\n      </div>\n    </>\n  );\n}\n\nexport default AddressBlock;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {formatBN} from \"../../utils/number\";\n\ntype BlanceBlockProps = {\n  asset: string,\n  balance: BigNumber | string | number\n  suffix?: string\n}\n\nfunction BalanceBlock({ asset, balance, suffix=\"\"}: BlanceBlockProps) {\n  let integer = '0';\n  let digits = '0';\n  const balanceBN = new BigNumber(balance);\n  if (balanceBN.gte(new BigNumber(0))) {\n    const tokens = formatBN(balanceBN, 2).split('.')\n    integer = tokens[0];\n    digits = tokens[1];\n  }\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{asset}</div>\n      <div style={{ padding: 3 }}>\n        <span style={{ fontSize: 24 }}>{integer}</span>\n        .\n        <span style={{ fontSize: 18 }}>\n          {' '}\n          {digits}\n          {' '}\n        </span>\n        {suffix === \"\" ? '' : <span style={{ fontSize: 18 }}>{suffix}</span> }\n      </div>\n    </>\n  );\n}\n\nexport default BalanceBlock;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {formatBN} from \"../../utils/number\";\n\ntype BlanceBlockProps = {\n  asset: string,\n  value: BigNumber | string | number\n  suffix?: string,\n}\n\nfunction StatsRowItem({ asset, value, suffix=\"\"}: BlanceBlockProps) {\n  return (\n    <div style={{display: 'flex'}}>\n      <div style={{ fontSize: 12, lineHeight: 2}}>{asset}</div>\n      <div style={{ \n        flex: '1 1 0%',\n        backgroundPosition: 'center bottom',\n        backgroundSize: '0.5rem 0.0625rem',\n        backgroundImage: 'linear-gradient(to right, rgba(225, 225, 225, 0.4) 20%, rgba(255, 255, 255, 0) 0%)',\n        backgroundRepeat: 'repeat-x'\n      }}></div>\n      <div style={{ fontSize: 12, lineHeight: 2}}>\n        <span>{value}</span><span> {suffix}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default StatsRowItem;\n","import React from 'react';\n\nfunction SectionTitle({ title }:{title: string}) {\n  return <div style={{ padding: 10, fontSize: 20 }}>{title}</div>;\n}\n\nexport default SectionTitle;\n","import React from 'react';\n\nimport {\n  ButtonBase,\n} from '@aragon/ui';\n\nfunction MaxButton({ onClick }:{ onClick: Function }) {\n  return (\n    <div style={{ padding: 3 }}>\n      <ButtonBase onClick={onClick}>\n        <span style={{ opacity: 0.5 }}> Max </span>\n      </ButtonBase>\n    </div>\n  );\n}\n\nexport default MaxButton;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nfunction PriceSection({\n  label, amt, symbol = '', forceDisplay = false,\n}:{label:string, amt: string|number|BigNumber, symbol?:string, forceDisplay?:boolean }) {\n  const amtBN = new BigNumber(amt);\n  if (amtBN.gt(new BigNumber(0)) || forceDisplay) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}>{label}</span>\n        <span style={{ fontSize: 13 }}>{amtBN.toNumber().toFixed(5)}</span>\n        <span style={{ fontSize: 13 }}>{symbol}</span>\n      </div>\n    );\n  }\n  return <div style={{ padding: 3, opacity: 0.5 }} />;\n}\n\n\nexport default PriceSection;\n","import React, { ReactChild } from 'react';\n\ntype commentProps = {\n  text: string | ReactChild\n}\n\nfunction Comment({ text }: commentProps) {\n  return (\n    <div style={{ padding: 5, opacity: 0.5 }}>\n      {text}\n    </div>\n  );\n}\n\nexport default Comment;\n","import styled from 'styled-components';\n\nconst FlexWrapper = styled.div`\n  // display: flex;\n  padding-left: 20%;\n  padding-right: 20%;\n`;\n\nexport default FlexWrapper;\n","import React from 'react';\nimport { Checkbox, useTheme } from '@aragon/ui';\nimport styled from 'styled-components';\n\ntype checkBoxProps = {\n  text: string,\n  checked: boolean,\n  onCheck: Function\n}\n\nfunction MyCheckBox({ text, checked, onCheck }: checkBoxProps) {\n  const theme = useTheme();\n  return (\n    <CheckBoxWrapper theme={theme}>\n      <Checkbox\n        checked={checked}\n        onChange={onCheck}\n      />\n      <span style={{ margin: '4px' }}>\n        {text}\n      </span>\n      <br />\n    </CheckBoxWrapper>\n  );\n}\n\nexport default MyCheckBox;\n\nconst CheckBoxWrapper = styled.div`{\n  display: flex;\n  font-size: 14px;\n  color: ${(props) => props.theme.surfaceContentSecondary}\n}`;","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { StatsRowItem } from '../common/index';\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\nimport {formatBN} from \"../../utils/number\";\n\ntype AccountPageHeaderProps = {\n  accountVTDBalance: BigNumber,\n  accountVTDSBalance: BigNumber,\n  totalVTDSSupply: BigNumber,\n  accountStagedBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountStatus: number,\n  unlocked: number,\n};\n\nfunction fm(bn){\n  let num = (formatBN(bn, 2))\n  return num;\n}\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\", \"Locked\"];\n\nfunction status(accountStatus, unlocked) {\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until epoch:\" + unlocked)\n}\n\nconst AccountPageHeader = ({\n  accountVTDBalance, accountVTDSBalance, totalVTDSSupply, accountStagedBalance, accountBondedBalance, accountStatus, unlocked\n}: AccountPageHeaderProps) => (\n\n<div style={{display: 'flex'}}>\n     \n  <div style={{ flex: '1 0 50%',  padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center', justifyContent: 'space-between' }}>\n      <div style={{ flex: '1 0 50%'}}>\n      <StatsRowItem asset=\"Balance\" value={fm(accountVTDBalance)} suffix={\" VTD\"}/>\n      <StatsRowItem asset=\"Staged\" value={fm(accountStagedBalance)}  suffix={\" VTD\"}/>\n      <StatsRowItem asset=\"Bonded\" value={fm(accountBondedBalance)}  suffix={\" VTD\"}/>\n      </div>\n  </div>\n  <div style={{ flex: '1 0 50%', padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center', justifyContent: 'space-between' }}>\n      <div style={{flex: '1 0 50%'}}>\n          <StatsRowItem asset=\"Dao Ownership\" value={fm(ownership(accountVTDSBalance, totalVTDSSupply))} suffix={\"%\"} />\n          <StatsRowItem asset=\"Dao status\" value={status(accountStatus, unlocked)}  suffix={\"\"}/>\n      </div>\n  </div>\n</div>\n);\n\n\nexport default AccountPageHeader;\n","export const notify = {\n  hash: (v) => {\n    console.log(v)\n    localStorage.setItem('pendingtx', v);\n  }\n}","/* eslint-disable camelcase */\nimport Web3 from 'web3';\nimport BigNumber from 'bignumber.js';\n\nimport { notify } from './txNotifier.ts';\nimport { UniswapV2Router02 } from '../constants/contracts';\n\nimport { VTD } from '../constants/tokens';\n\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst testnetUSDCAbi = require('../constants/abi/TestnetUSDC.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\n\nconst DEADLINE_FROM_NOW = 60 * 15;\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n\n/**\n * Connection Utilities\n */\n\nexport const updateModalMode = async (theme) => {\n  window.darkMode = theme === 'dark';\n};\n\nexport const connect = async (ethereum) => {\n  window.web3 = new Web3(ethereum);\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  return addresses.length ? addresses[0].toLowerCase() : null;\n};\n\n// eslint-disable-next-line consistent-return\nexport const checkConnectedAndGetAddress = async () => {\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n      // eslint-disable-next-line no-empty\n    } catch (e) { }\n  }\n\n  return addresses[0];\n};\n\n/**\n * ERC20 Utilities\n */\n\nexport const approve = async (tokenAddr, spender, amt = UINT256_MAX) => {\n  const account = await checkConnectedAndGetAddress();\n  const oToken = new window.web3.eth.Contract(testnetUSDCAbi, tokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n\nexport const checkTxStatus = async (hash, callback) => {\n  new window.web3.eth.getTransactionReceipt(hash, callback);\n};\n\n\n// export const mintTestnetUSDC = async (amount) => {\n//   const account = await checkConnectedAndGetAddress();\n//   const dsd = new window.web3.eth.Contract(testnetUSDCAbi, DSD.addr);\n\n//   await dsd.methods.mint(account, new BigNumber(amount).toFixed())\n//     .send({ from: account })\n//     .on('transactionHash', (hash) => {\n//       notify.hash(hash);\n//     });\n// };\n\n/**\n * Uniswap Protocol\n */\n\nexport const buyVTD = async (buyAmount, maxInputAmount, inputTokenAddr) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapTokensForExactTokens(\n    buyAmount,\n    maxInputAmount,\n    [inputTokenAddr, VTD.addr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const sellVTD = async (sellAmount, minOutputAmount, outputTokenAddr) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapExactTokensForTokens(\n    sellAmount,\n    minOutputAmount,\n    [VTD.addr, outputTokenAddr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const addLiquidity = async (amountVTD, amountPeg, slippage, counterTokenAddr) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  const slippageBN = new BigNumber(slippage);\n  const minAmountVTD = new BigNumber(amountVTD)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n  const minAmountUSDC = new BigNumber(amountPeg)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n\n  await router.methods.addLiquidity(\n    VTD.addr,\n    counterTokenAddr,\n    new BigNumber(amountVTD).toFixed(),\n    new BigNumber(amountPeg).toFixed(),\n    minAmountVTD,\n    minAmountUSDC,\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const removeLiquidity = async (liquidityAmount, minAmountVTD, minAmountPeg, pegAddress) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.removeLiquidity(\n    VTD.addr,\n    pegAddress,\n    new BigNumber(liquidityAmount).toFixed(),\n    new BigNumber(minAmountVTD).toFixed(),\n    new BigNumber(minAmountPeg).toFixed(),\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * Dllar Protocol\n */\n\nexport const advance = async (dao) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .tryAdvance()\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const deposit = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  console.log(account)\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  console.log(daoContract)\n  await daoContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const withdraw = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const bond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbondUnderlying = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbondUnderlying(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const purchaseCoupons = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .purchaseCoupons(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const redeemCoupons = async (dao, epoch, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .redeemCoupons(epoch, new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const recordVote = async (dao, candidate, voteType) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .vote(candidate, voteType)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const commit = async (dao, candidate) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .commit(candidate)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/* UNI-V2 Incentivization Pool */\nexport const depositPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const withdrawPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const bondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const unbondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const claimPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .claim(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const providePool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .provide(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  TextInput,\n} from '@aragon/ui';\n\ntype BigNumberInputProps = {\n  value: BigNumber,\n  setter: (value: BigNumber) => void\n  adornment?: any,\n  disabled?: boolean\n}\n\nfunction BigNumberInput({ value, setter, adornment, disabled=false }: BigNumberInputProps) {\n  return (\n    <>\n      <TextInput\n        type=\"number\"\n        adornmentPosition=\"end\"\n        adornment={adornment}\n        wide\n        value={value.isNegative() ? '' : value.toFixed()}\n        onChange={(event) => {\n          if (event.target.value) {\n            setter(new BigNumber(event.target.value));\n          } else {\n            setter(new BigNumber(-1));\n          }\n        }}\n        onBlur={() => {\n          if (value.isNegative()) {\n            setter(new BigNumber(0))\n          }\n        }}\n        disabled={disabled}\n      />\n    </>\n  );\n}\n\nexport default BigNumberInput;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, depositPool, withdrawPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  poolAddress: string\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number,\n  peg: any\n};\n\nfunction WithdrawDeposit({\n  poolAddress, user, balance, allowance, stagedBalance, status, peg\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Stage\" style={{ paddingTop: '2%'}}>\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div>\n          {/* total Issued */}\n          <div>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\n          </div>\n          {/* Deposit UNI-V2 into Pool */}\n          <div>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"UNI-V2\"\n                    value={depositAmount}\n                    setter={setDepositAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setDepositAmount(balance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                  label=\"Deposit\"\n                  onClick={() => {\n                    depositPool(\n                      poolAddress,\n                      toBaseUnitBN(depositAmount, peg.pair.decimals),\n                      (hash) => setDepositAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(depositAmount)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Withdraw Dllar from DAO */}\n          <div style={{paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"UNI-V2\"\n                    value={withdrawAmount}\n                    setter={setWithdrawAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setWithdrawAmount(stagedBalance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                  label=\"Withdraw\"\n                  onClick={() => {\n                    withdrawPool(\n                      poolAddress,\n                      toBaseUnitBN(withdrawAmount, peg.pair.decimals),\n                      (hash) => setWithdrawAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(withdrawAmount)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        <div style={{}}>\n          {/* total Issued */}\n          <div >\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\n          </div>\n          <div/>\n          {/* Approve Pool to spend UNI-V2 */}\n          <div style={{ paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus />}\n              label=\"Approve\"\n              onClick={() => {\n                approve(peg.pair.addr, peg.pool);\n              }}\n              disabled={peg.pool === '' || user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React from 'react';\n\ntype TextBlockProps = {\n  label: string,\n  text: string\n}\n\nfunction TextBlock({ label, text }: TextBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ fontSize: 16, padding: 3 }}>{text}</div>\n    </>\n  );\n}\n\nexport default TextBlock;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {bondPool, unbondPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  poolAddress: string,\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n  peg: any\n};\n\nfunction BondUnbond({\n  poolAddress, staged, bonded, status, lockup, peg\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Bond\">\n      <div>\n        {/* Total bonded */}\n        <div>\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"UNI-V2\"} />\n        </div>\n        {/* Exit lockup */}\n        <div>\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n        </div>\n        {/* Bond UNI-V2 within Pool */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"UNI-V2\"\n                  value={bondAmount}\n                  setter={setBondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setBondAmount(staged);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                label=\"Bond\"\n                onClick={() => {\n                  bondPool(\n                    poolAddress,\n                    toBaseUnitBN(bondAmount, peg.pair.decimals),\n                    (hash) => setBondAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || !isPos(bondAmount)}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{flexBasis: '2%'}}/>\n        {/* Unbond UNI-V2 within Pool */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"UNI-V2\"\n                  value={unbondAmount}\n                  setter={setUnbondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setUnbondAmount(bonded);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                label=\"Unbond\"\n                onClick={() => {\n                  unbondPool(\n                    poolAddress,\n                    toBaseUnitBN(unbondAmount, peg.pair.decimals),\n                    (hash) => setUnbondAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || !isPos(unbondAmount)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default BondUnbond;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock,StatsRowItem } from '../common/index';\n\nimport {Grid} from '@geist-ui/react'\nimport {ownership} from \"../../utils/number\";\nimport {formatBN} from \"../../utils/number\";\n\ntype PoolPageHeaderProps = {\n  accountUNIBalance: BigNumber,\n  accountStagedBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountRewardedVTDBalance: BigNumber,\n  accountClaimableVTDBalance: BigNumber,\n  poolTotalBonded: BigNumber,\n  accountPoolStatus: number,\n  unlocked: number,\n};\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\"];\n\nfunction status(accountStatus, unlocked) {\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until \" + unlocked)\n}\n\nfunction fm(bn){\n  let num = (formatBN(bn, 2))\n  return num;\n}\n\n\n\nconst PoolPageHeader = ({\n  accountUNIBalance, accountStagedBalance, accountBondedBalance, accountRewardedVTDBalance, accountClaimableVTDBalance, poolTotalBonded, accountPoolStatus, unlocked\n}: PoolPageHeaderProps) => (\n  <>\n    <Grid xs={24} sm={12}>\n        <StatsRowItem asset=\"Balance\" value={fm(accountUNIBalance)} suffix={\" UNI-V2\"}/>\n        <StatsRowItem asset=\"Staged\" value={fm(accountStagedBalance)}  suffix={\" UNI-V2\"}/>\n        <StatsRowItem asset=\"Bonded\" value={fm(accountBondedBalance)}  suffix={\" UNI-V2\"}/>\n     </Grid>\n     <Grid xs={24} sm={12}>\n\n            <StatsRowItem asset=\"Rewarded\" value={fm(accountRewardedVTDBalance)}  suffix={\" VTD\"}/>\n            <StatsRowItem asset=\"Claimable\" value={fm(accountClaimableVTDBalance)}  suffix={\" VTD\"}/>\n            <StatsRowItem asset=\"Pool Ownership\" value={fm(ownership(accountBondedBalance, poolTotalBonded))} suffix={\"%\"} />\n            <StatsRowItem asset=\"Pool status\" value={status(accountPoolStatus, unlocked)}  suffix={\"\"}/>\n    </Grid>\n  </>\n);\n\n\nexport default PoolPageHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconArrowDown\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {claimPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {VTD} from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype ClaimProps = {\n  poolAddress: string\n  claimable: BigNumber,\n  status: number\n};\n\nfunction Claim({\n  poolAddress, claimable, status\n}: ClaimProps) {\n  const [claimAmount, setClaimAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Claim\">\n      <div>\n        {/* total Issued */}\n        <div>\n          <BalanceBlock asset=\"Claimable\" balance={claimable} suffix={\"VTD\"} />\n        </div>\n        {/* Deposit UNI-V2 into Pool */}\n        <div/>\n        <div style={{paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"VTD\"\n                  value={claimAmount}\n                  setter={setClaimAmount}\n                  disabled={status !== 0}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setClaimAmount(claimable);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '6em'}}>\n              <Button\n                wide\n                icon={<IconArrowDown/>}\n                label=\"Claim\"\n                onClick={() => {\n                  claimPool(\n                    poolAddress,\n                    toBaseUnitBN(claimAmount, VTD.decimals),\n                    (hash) => setClaimAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || status !== 0 || !isPos(claimAmount)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Unbond to make rewards claimable after your status is Unlocked </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default Claim;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconArrowUp, IconCirclePlus\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton, PriceSection,\n} from '../common/index';\nimport {approve, providePool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\nimport {VTD} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype ProvideProps = {\n  poolAddress: string,\n  user: string,\n  rewarded: BigNumber,\n  pairBalanceVTD: BigNumber,\n  pairBalancePeg: BigNumber,\n  userPEGBalance: BigNumber,\n  userPEGAllowance: BigNumber,\n  status: number,\n  peg: any,\n};\n\nfunction Provide({\n  poolAddress, user, rewarded, pairBalanceVTD, pairBalancePeg, userPEGBalance, userPEGAllowance, status, peg\n}: ProvideProps) {\n  const [provideAmount, setProvideAmount] = useState(new BigNumber(0));\n  const [usdcAmount, setUsdcAmount] = useState(new BigNumber(0));\n\n  const PEGToVTDRatio = pairBalancePeg.isZero() ? new BigNumber(1) : pairBalancePeg.div(pairBalanceVTD);\n\n  const onChangeAmountVTD = (amountVTD) => {\n    if (!amountVTD) {\n      setProvideAmount(new BigNumber(0));\n      setUsdcAmount(new BigNumber(0));\n      return;\n    }\n\n    const amountVTDBN = new BigNumber(amountVTD)\n    setProvideAmount(amountVTDBN);\n\n    const amountVTDBU = toBaseUnitBN(amountVTDBN, VTD.decimals);\n    const newAmountPEG = toTokenUnitsBN(\n      amountVTDBU.multipliedBy(PEGToVTDRatio).integerValue(BigNumber.ROUND_FLOOR),\n      VTD.decimals);\n    setUsdcAmount(newAmountPEG);\n  };\n\n  return (\n    <Box heading=\"Provide\">\n      {userPEGAllowance.comparedTo(MAX_UINT256.dividedBy(2)) > 0 ?\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total rewarded */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"VTD\"} />\n          </div>\n          <div style={{flexBasis: '33%'}}>\n            <BalanceBlock asset={`${peg.symbol} Balance`} balance={userPEGBalance} suffix={peg.symbol} />\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Provide liquidity using Pool rewards */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"VTD\"\n                    value={provideAmount}\n                    setter={onChangeAmountVTD}\n                    disabled={status === 1}\n                  />\n                  <PriceSection label=\"Requires \" amt={usdcAmount} symbol={peg.symbol}/>\n                  <MaxButton\n                    onClick={() => {\n                      onChangeAmountVTD(rewarded);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '6em'}}>\n                <Button\n                  wide\n                  icon={<IconArrowUp/>}\n                  label=\"Provide\"\n                  onClick={() => {\n                    providePool(\n                      poolAddress,\n                      toBaseUnitBN(provideAmount, VTD.decimals),\n                      (hash) => setProvideAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(provideAmount) || usdcAmount.isGreaterThan(userPEGBalance)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total rewarded */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"VTD\"} />\n          </div>\n          <div style={{flexBasis: '33%'}}>\n            <BalanceBlock asset={`${peg.symbol} Balance`} balance={userPEGBalance} suffix={peg.symbol}/>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Approve Pool to spend DSD */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus/>}\n              label=\"Approve\"\n              onClick={() => {\n                approve(peg.addr, poolAddress);\n              }}\n              disabled={poolAddress === '' || user === ''}\n            />\n          </div>\n        </div>\n      }\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Zap your rewards directly to LP by providing more ${peg.symbol} </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default Provide;\n","import React from 'react';\nimport {VTD, VTDD, PeggedTokens} from \"../constants/tokens\";\nimport BigNumber from 'bignumber.js';\nimport {\n  getPoolTotalBonded,\n  getTokenBalance,\n  getOracleTwap,\n  getInstantaneousPrice,\n  getPoolTotalClaimable, getPoolTotalRewarded,\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged\n} from '../utils/infura';\nimport { toTokenUnitsBN } from '../utils/number';\n\nexport interface ITodo {\n  id: number\n  title: string\n  description: string\n  status: boolean\n}\n\nexport interface IPeggedToken {\n  name: string,\n  pair: {\n    addr: string,\n    decimals: number,\n    symbol: string,\n  },\n  addr: string,\n  decimals: number,\n  symbol: string,\n  pool: string,\n  oracle: string,\n  enabled: boolean,\n  usdcPair: string,\n  usdcPrice: BigNumber,\n  stats: PegStats\n}\n\nexport interface PegStats {\n  vtdBalance: BigNumber,\n  pegBalance: BigNumber,\n  poolReward: BigNumber,\n  poolClaimable: BigNumber,\n  poolTotalBonded: BigNumber,\n  price: BigNumber,\n  lastTwap: BigNumber\n}\n\nexport type ContextType = {\n  peggedTokens: IPeggedToken[],\n  totals: {\n    totalSupply: BigNumber,\n    totalBonded: BigNumber,\n    totalStaged: BigNumber,\n    totalLPSupply: BigNumber,\n    totalLPBonded: BigNumber,\n    circulating: BigNumber,\n    totalRedeemable: BigNumber,\n    totalDebt: BigNumber,\n    totalCoupon: BigNumber\n  },\n  updatePools: () => void,\n  updateTotals: () => {}\n}\n\n//@ts-ignore\nconst initialPeggedTokens: IPeggedToken[] = PeggedTokens.map((peg) => {\n  peg.stats = {\n    vtdBalance: new BigNumber(0),\n    pegBalance: new BigNumber(0),\n    poolReward: new BigNumber(0),\n    poolClaimable: new BigNumber(0),\n    poolTotalBonded: new BigNumber(0),\n    price: new BigNumber(0),\n    lastTwap: new BigNumber(0)\n  } \n\n  peg.usdcPrice = new BigNumber(0)\n  return peg\n})\n\nconst initialTotals = {\n  totalSupply: new BigNumber(0),\n  totalBonded: new BigNumber(0),\n  totalStaged: new BigNumber(0),\n  totalLPSupply: new BigNumber(0),\n  totalLPBonded: new BigNumber(0),\n  circulating: new BigNumber(0),\n  totalRedeemable: new BigNumber(0),\n  totalDebt: new BigNumber(0),\n  totalCoupon: new BigNumber(0)\n}\n\nexport const MainContext = React.createContext<ContextType | null>(null);\n\nexport const MainStoreProvider: React.FC<React.ReactNode> = ({ children }) => {\n  const [peggedTokens, setPeggedTokenPools] = React.useState<IPeggedToken[]>(initialPeggedTokens);\n  const [totals, setTotals] = React.useState(initialTotals);\n\n  const updatePools = () => {\n    let pegs: IPeggedToken[] = []\n    peggedTokens.forEach(async (peg) =>  { \n      if (peg.enabled) {\n        let [vtdBalance, pegBalance, poolReward, poolClaimable, totalBonded, oracleTwap] = await Promise.all([\n          getTokenBalance(VTD.addr, peg.pair.addr),\n          getTokenBalance(peg.addr, peg.pair.addr),\n          getPoolTotalRewarded(peg.pool),\n          getPoolTotalClaimable(peg.pool),\n          getPoolTotalBonded(peg.pool),\n          getOracleTwap(peg.oracle)\n          ]);\n        \n        let usdcPrice = new BigNumber(1e18);\n        if (!(peg.symbol === 'USDC')) {\n           let multiplier = peg.decimals == 18 ? 1e12 : 1;\n           const [rawUsdcPrice] = await Promise.all([getInstantaneousPrice('0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', peg.usdcPair)])\n           usdcPrice = rawUsdcPrice.multipliedBy(new BigNumber(multiplier));\n        }\n\n        peg.stats = {\n          vtdBalance: toTokenUnitsBN(vtdBalance, VTD.decimals),\n          pegBalance: toTokenUnitsBN(pegBalance, peg.decimals),\n          poolReward: toTokenUnitsBN(poolReward, VTD.decimals),\n          poolClaimable: toTokenUnitsBN(poolClaimable, VTD.decimals),\n          poolTotalBonded: toTokenUnitsBN(totalBonded, VTD.decimals),\n          price: toTokenUnitsBN(pegBalance, peg.decimals).dividedBy(toTokenUnitsBN(vtdBalance, VTD.decimals)),\n          lastTwap: toTokenUnitsBN(new BigNumber(oracleTwap), VTD.decimals),\n        }\n\n        peggedTokens.filter((_peg: IPeggedToken) => {\n          if (_peg.symbol === peg.symbol) {\n            _peg.stats = peg.stats;\n            _peg.usdcPrice = usdcPrice;\n            setPeggedTokenPools([...peggedTokens]);\n          }\n        });\n      }\n    })\n  };\n\n  const updateTotals = async () => {\n    const [\n      totalSupplyStr,\n      totalBondedStr, totalStagedStr, totalRedeemableStr,\n      totalDebtStr, totalCouponsStr\n      ] = await Promise.all([\n      getTokenTotalSupply(VTD.addr),\n\n      getTotalBonded(VTDD.addr),\n      getTotalStaged(VTDD.addr),\n      getTotalRedeemable(VTDD.addr),\n\n      getTotalDebt(VTDD.addr),\n      getTotalCoupons(VTDD.addr)\n\n      ]);\n\n    let poolTotal = new BigNumber(0);\n    let totalLiquidityPoolSupply = new BigNumber(0);\n    peggedTokens.forEach((peg) => {\n      totalLiquidityPoolSupply = totalLiquidityPoolSupply.plus(peg.stats.poolReward)\n        .plus(peg.stats.poolClaimable)\n        poolTotal = poolTotal.plus(peg.stats.vtdBalance)\n    })\n\n    const newTotals = {\n      totalSupply: toTokenUnitsBN(totalSupplyStr, VTD.decimals),\n      totalBonded: toTokenUnitsBN(totalBondedStr, VTD.decimals),\n      totalStaged: toTokenUnitsBN(totalStagedStr, VTD.decimals),\n      totalLPSupply: totalLiquidityPoolSupply,\n      totalLPBonded: poolTotal,\n      circulating: new BigNumber(0),\n      totalRedeemable: toTokenUnitsBN(totalRedeemableStr, VTD.decimals),\n      totalDebt: toTokenUnitsBN(totalDebtStr, VTD.decimals),\n      totalCoupon: toTokenUnitsBN(totalCouponsStr, VTD.decimals)\n    }\n    newTotals.circulating = newTotals.totalSupply.minus(newTotals.totalLPBonded)\n                                                 .minus(newTotals.totalBonded)\n                                                 .minus(newTotals.totalStaged)\n                                                 .minus(newTotals.totalLPSupply)\n    setTotals(newTotals);\n  }\n\n  return (\n    <MainContext.Provider value={{peggedTokens, totals, updatePools, updateTotals }}>\n      {children}\n    </MainContext.Provider>\n  );\n};\n\nexport default MainStoreProvider;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable,\n  getPoolBalanceOfRewarded,\n  getPoolBalanceOfStaged,\n  getPoolStatusOf, getPoolTotalBonded,\n  getTokenAllowance,\n  getTokenBalance,\n  getPoolFluidUntil,\n  getPoolDistributions\n} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {formatBN} from \"../../utils/number\";\nimport {POOL_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport { toTokenUnitsBN } from '../../utils/number';\nimport { SidePanel } from '@aragon/ui';\nimport { ButtonGroup, Button, Card, Divider, useTheme, Grid, useMediaQuery, Link } from '@geist-ui/react'\nimport { X } from '@geist-ui/react-icons'\n\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport PoolPageHeader from \"./Header\";\nimport Claim from \"./Claim\";\nimport Provide from \"./Provide\";\nimport { MainContext, ContextType } from \"../../store/MainStore\";\n\n// import Migrate from \"./Migrate\";\n// import {DollarPool4} from \"../../constants/contracts\";\n\ntype PoolProps = {user: string, peg: any};\n\nfunction Pool({ user, peg }: PoolProps) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n  const theme = useTheme();\n  const [poolAddress, setPoolAddress] = useState(\"\");\n  const [userUNIBalance, setUserUNIBalance] = useState(new BigNumber(0));\n  const [userUNIAllowance, setUserUNIAllowance] = useState(new BigNumber(0));\n  const [userPEGBalance, setUserPEGBalance] = useState(new BigNumber(0));\n  const [userPEGAllowance, setUserPEGAllowance] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userRewardedBalance, setUserRewardedBalance] = useState(new BigNumber(0));\n  const [userClaimableBalance, setUserClaimableBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [lockup, setLockup] = useState(0);\n  const [tokensPanelOpened, setTokensPanelOpened] = useState(false)\n  const [rewardPanelOpened, setRewardPanelOpened] = useState(false)\n  const { updatePools } = React.useContext(MainContext) as ContextType;\n  const downMD = useMediaQuery('sm', { match: 'down' })\n\n  function fm(bn){\n    let num = (formatBN(bn, 2))\n    return num;\n  }\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setPoolAddress(\"\");\n      setUserUNIBalance(new BigNumber(0));\n      setUserUNIAllowance(new BigNumber(0));\n      setUserPEGBalance(new BigNumber(0));\n      setUserPEGAllowance(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserRewardedBalance(new BigNumber(0));\n      setUserClaimableBalance(new BigNumber(0));\n      setUserStatus(0);\n      setUserStatusUnlocked(0);\n      \n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddressStr = await peg.pool;\n\n      const [\n        balance, usdcBalance,\n        allowance, usdcAllowance, stagedBalance, bondedBalance,\n        rewardedBalance, claimableBalance, status, fluidUntilStr\n      ] = await Promise.all([\n        getTokenBalance(peg.pair.addr, user),\n        getTokenBalance(peg.addr, user),\n\n        getTokenAllowance(peg.pair.addr, user, poolAddressStr),\n        getTokenAllowance(peg.addr, user, poolAddressStr),\n        getPoolBalanceOfStaged(poolAddressStr, user),\n        getPoolBalanceOfBonded(poolAddressStr, user),\n\n        getPoolBalanceOfRewarded(poolAddressStr, user),\n        getPoolBalanceOfClaimable(poolAddressStr, user),\n        getPoolStatusOf(poolAddressStr, user),\n        getPoolFluidUntil(poolAddressStr, user),\n        // getPoolDistributions(VTDD.address)\n      ]);\n      \n      const userUNIBalance = toTokenUnitsBN(balance, peg.pair.decimals);\n      const userPEGBalance = toTokenUnitsBN(usdcBalance, peg.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, peg.pair.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, peg.pair.decimals);\n      const userRewardedBalance = toTokenUnitsBN(rewardedBalance, VTD.decimals);\n      const userClaimableBalance = toTokenUnitsBN(claimableBalance, VTD.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n\n      if (!isCancelled) {\n        setPoolAddress(poolAddressStr);\n        setUserUNIBalance(new BigNumber(userUNIBalance));\n        setUserUNIAllowance(new BigNumber(allowance));\n        setUserPEGAllowance(new BigNumber(usdcAllowance));\n        setUserPEGBalance(new BigNumber(userPEGBalance));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserRewardedBalance(new BigNumber(userRewardedBalance));\n        setUserClaimableBalance(new BigNumber(userClaimableBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(fluidUntil);\n        // setLockup(poolAddressStr === DollarPool4 ? POOL_EXIT_LOCKUP_EPOCHS : 1);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n  // Check for error in .call()\n  return (\n    <>\n      <Card type=\"lite\" style={{margin: '10px 0', background: `${theme.palette.accents_1}`}}>\n        <Grid.Container gap={2} justify=\"center\">\n          <Grid xs={12} md={12}>\n            {peg.symbol}/\n            <div style={{fontSize: '10px'}}>\n              VTD\n            </div> \n          </Grid>\n          <Grid xs={12} md={4}>\n            <div>\n            Price: \n            </div>\n            <div style={{fontSize: '10px'}}>\n              {fm(peg.stats.price)} {peg.symbol} / {fm(peg.stats.price.multipliedBy(peg.usdcPrice))} USD \n            </div>  \n          </Grid>\n          <Grid xs={12} md={4}>\n            <div>\n            VTD Pooled: \n            </div>\n            <div style={{fontSize: '12px'}}>\n              {fm(peg.stats.vtdBalance)}\n            </div>   \n          </Grid>\n          <Grid xs={12} md={4}>\n            <div>\n            {peg.symbol} Pooled: \n            </div>\n            <div style={{fontSize: '12px'}}>\n              {fm(peg.stats.pegBalance)}\n            </div>  \n          </Grid>\n          <Divider y={0} />\n          \n            <PoolPageHeader\n              accountUNIBalance={userUNIBalance}\n              accountStagedBalance={userStagedBalance}\n              accountBondedBalance={userBondedBalance}\n              accountRewardedVTDBalance={userRewardedBalance}\n              accountClaimableVTDBalance={userClaimableBalance}\n              poolTotalBonded={peg.stats.poolTotalBonded}\n              accountPoolStatus={userStatus}\n              unlocked={userStatusUnlocked}\n            />\n          <Grid xs>\n            <ButtonGroup size={downMD? 'mini' : 'medium'} type=\"success\" ghost>\n              <Button\n              type=\"success\"\n                onClick={() => setTokensPanelOpened(true)}\n              >Bond/Unbond Tokens</Button>\n              <Button\n              type=\"success\"\n              // icon={<IconPlus />}\n              onClick={() => setRewardPanelOpened(true)}\n            >Claim/Provide Rewards</Button>\n            </ButtonGroup>\n          </Grid>\n          <Grid xs>\n            <ButtonGroup size={downMD? 'mini' : 'medium'} ghost>\n            <Button \n                onClick={() => window.open(`https://app.uniswap.org/#/swap?inputCurrency=${peg.addr}&outputCurrency=${VTD.addr}`, '_blank')}\n                ghost>Trade VTD/{peg.symbol}</Button>\n              <Button \n              // icon={<IconPlus />}\n              onClick={() => window.open(`https://app.uniswap.org/#/add/${VTD.addr}/${peg.addr}`, '_blank')}\n              ghost>Add Uniswap Liquidity</Button>\n            </ButtonGroup>\n          </Grid>\n          </Grid.Container>\n        </Card>\n        <SidePanel\n          title=\"Add/Remove Liquidity\"\n          opened={tokensPanelOpened}\n          onClose={() => setTokensPanelOpened(false)}\n        >\n          <Link onClick={() => setTokensPanelOpened(false)}><X /></Link>\n          <WithdrawDeposit\n          poolAddress={poolAddress}\n          user={user}\n          balance={userUNIBalance}\n          allowance={userUNIAllowance}\n          stagedBalance={userStagedBalance}\n          status={userStatus}\n          peg={peg}\n        />\n\n        <BondUnbond\n          poolAddress={poolAddress}\n          staged={userStagedBalance}\n          bonded={userBondedBalance}\n          status={userStatus}\n          lockup={lockup}\n          peg={peg}\n        />\n    \n        \n      </SidePanel>\n\n      <SidePanel\n        title=\"Claim/Zap Rewards\"\n        opened={rewardPanelOpened}\n        onClose={() => setRewardPanelOpened(false)}\n      >\n          <Link onClick={() => setRewardPanelOpened(false)}><X /></Link>\n        \n        <Claim\n          poolAddress={poolAddress}\n          claimable={userClaimableBalance}\n          status={userStatus}\n        />\n\n        <Provide\n          poolAddress={poolAddress}\n          user={user}\n          rewarded={userRewardedBalance}\n          status={userStatus}\n          pairBalanceVTD={peg.stats.vtdBalance}\n          pairBalancePeg={peg.stats.pegBalance}\n          userPEGBalance={userPEGBalance}\n          userPEGAllowance={userPEGAllowance}\n          peg={peg}\n        />\n        \n      </SidePanel>\n    </>\n  );\n}\n\nexport default Pool;\n","import React, { useState, useEffect } from 'react';\nimport { Card, useTheme } from '@geist-ui/react'\n\n// import Migrate from \"./Migrate\";\n// import {DollarPool4} from \"../../constants/contracts\";\n\ntype PoolProps = {peg: any};\n\nfunction EmptyPool({ peg }: PoolProps) {\n  const theme = useTheme();\n  \n  return (\n    <>\n    <Card type=\"lite\" style={{margin: '10px 0', opacity: '30%', background: theme.palette.accents_1}}>\n            <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between', flexBasis:'100%'}}>\n              <div>\n                <div>\n                {peg.symbol}/\n                </div>\n                <div style={{fontSize: '10px'}}>\n                  VTD\n                </div> \n              </div>\n                <div style={{flexBasis: '30%'}}/>\n                <div style={{flexBasis: '20%'}}>\n                <div >\n                Coming Soon\n                </div>\n                <div style={{fontSize: '12px'}}>\n                  \n                </div>    \n              </div>\n            </div>\n          </Card>\n    </>\n  );\n}\n\nexport default EmptyPool;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, deposit, withdraw} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number\n};\n\nfunction WithdrawDeposit({\n  user, balance, allowance, stagedBalance, status\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Stage\" style={{ paddingTop: '2%'}}>\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div>\n          {/* total Issued */}\n          <div>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"VTD\"}/>\n          </div>\n          {/* Deposit Dllar into DAO */}\n          <div style={{ paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    value={depositAmount}\n                    setter={setDepositAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setDepositAmount(balance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '6em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                  label=\"Deposit\"\n                  onClick={() => {\n                    deposit(\n                      VTDD.addr,\n                      toBaseUnitBN(depositAmount, VTD.decimals),\n                    );\n                  }}\n                  disabled={status === 1 || !isPos(depositAmount) || depositAmount.isGreaterThan(balance)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Withdraw Dllar from DAO */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '7em'}}>\n                <>\n                  <BigNumberInput\n                    value={withdrawAmount}\n                    setter={setWithdrawAmount}\n                    disabled={status !== 0}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setWithdrawAmount(stagedBalance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                  label=\"Withdraw\"\n                  onClick={() => {\n                    withdraw(\n                      VTDD.addr,\n                      toBaseUnitBN(withdrawAmount, VTD.decimals),\n                    );\n                  }}\n                  disabled={status === 1 || !isPos(withdrawAmount) || withdrawAmount.isGreaterThan(stagedBalance)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"VTD\"}/>\n          </div>\n          <div style={{flexBasis: '35%'}}/>\n          {/* Approve DAO to spend Dllar */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus />}\n              label=\"Approve\"\n              onClick={() => {\n                approve(VTD.addr, VTDD.addr);\n              }}\n              disabled={user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport { bond, unbondUnderlying } from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport { VTD, VTDD } from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n};\n\nfunction BondUnbond({\n  staged, bonded, status, lockup\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Bond VTD\">\n      <div>\n        {/* Total bonded */}\n        <div style={{flexBasis: '16%'}}>\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"VTD\"}/>\n        </div>\n        {/* Total bonded */}\n        <div style={{flexBasis: '16%'}}>\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n        </div>\n        {/* Bond Dllar within DAO */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  value={bondAmount}\n                  setter={setBondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setBondAmount(staged);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                label=\"Bond\"\n                onClick={() => {\n                  bond(\n                    VTDD.addr,\n                    toBaseUnitBN(bondAmount, VTD.decimals),\n                  );\n                }}\n                disabled={status === 2 || !isPos(bondAmount) || bondAmount.isGreaterThan(staged)}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{width: '2%'}}/>\n        {/* Unbond Dllar within DAO */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n      \n                  value={unbondAmount}\n                  setter={setUnbondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setUnbondAmount(bonded);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                label=\"Unbond\"\n                onClick={() => {\n                  unbondUnderlying(\n                    VTDD.addr,\n                    toBaseUnitBN(unbondAmount, VTD.decimals),\n                  );\n                }}\n                disabled={status === 2 || !isPos(unbondAmount) || unbondAmount.isGreaterThan(bonded)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default BondUnbond;\n","import React from 'react';\nimport {VTD, VTDD, PeggedTokens} from \"../constants/tokens\";\nimport BigNumber from 'bignumber.js';\nimport {\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable,\n  getPoolBalanceOfRewarded,\n  getPoolBalanceOfStaged,\n  getPoolStatusOf, getPoolTotalBonded,\n  getTokenAllowance,\n  getTokenBalance,\n  getPoolFluidUntil,\n  getPoolDistributions,\n  getInstantaneousPrice,\n  getPoolTotalClaimable, getPoolTotalRewarded,\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged,\n  getEpoch, getEpochTime, getNextEpochTimestamp, getCurrentEpochLength, getAllRegulations\n} from '../utils/infura';\nimport { toTokenUnitsBN } from '../utils/number';\n\nexport type ContextType = {\n  regulations: IEpochs[],\n  epochData: EpochData,\n  updateEpochData: () => void,\n  updateRegulations: () => void,\n}\n\nexport const EpochContext = React.createContext<ContextType | null>(null);\n\nexport type EpochData = {\n  currentEpochLength: number,\n  nextEpochTimestamp: number,\n  previousEpochTimestamp: number,\n}\nexport type IEpochs = {\n    type: string;\n    epoch: number;\n    price: BigNumber;\n    momentumPrice?: BigNumber;\n    deltaRedeemable: BigNumber;\n    deltaDebt: BigNumber;\n    deltaBonded: BigNumber;\n  }\n  \nconst initialEpochData = {\n  currentEpochLength: 0,\n  nextEpochTimestamp: 0,\n  previousEpochTimestamp: 0,\n}\n\nexport const EpochStoreProvider: React.FC<React.ReactNode> = ({ children }) => {\n  const [regulations, setRegulations] = React.useState<IEpochs[]>([]);\n  const [epochData, setEpochData] = React.useState<EpochData>(initialEpochData);\n\n  const updateRegulations = async () => {\n    const [allRegulations] = await Promise.all([\n        getAllRegulations(VTDD.addr),\n      ]);\n\n      const _regs = allRegulations.map((result, index) => {\n        const data = result.data;\n        const epochtype = result.type;\n        return {\n            type: epochtype,\n            // @ts-ignore\n            epoch: Number(data.epoch),\n            // @ts-ignore\n            price: toTokenUnitsBN(data.price, VTD.decimals),\n            // @ts-ignore\n            momentumPrice: data.momentumPrice ? toTokenUnitsBN(data.momentumPrice, VTD.decimals) : new BigNumber(0),\n            // @ts-ignore\n            deltaRedeemable: toTokenUnitsBN(data.deltaRedeemable, VTD.decimals),\n            // @ts-ignore\n            deltaDebt: toTokenUnitsBN(data.deltaDebt, VTD.decimals),\n            // @ts-ignore\n            deltaBonded: toTokenUnitsBN(data.deltaBonded, VTD.decimals)\n        }\n      })\n      setRegulations(_regs)\n    }\n    const updateEpochData = async () => {\n      const [nextEpochTimestampStr, currentEpochLengthStr] = await Promise.all([\n        getNextEpochTimestamp(VTDD.addr),\n        getCurrentEpochLength(VTDD.addr)\n      ]);\n      const nextEpochTimestamp = parseInt(nextEpochTimestampStr, 10);\n      const currentEpochLength= parseInt(currentEpochLengthStr, 10);\n      const previousEpochTimestamp = nextEpochTimestamp - currentEpochLength;\n\n      setEpochData({\n        currentEpochLength: currentEpochLength,\n        nextEpochTimestamp: nextEpochTimestamp,\n        previousEpochTimestamp: previousEpochTimestamp,\n      })\n    }\n\n  return (\n    <EpochContext.Provider value={{regulations, epochData, updateEpochData, updateRegulations}}>\n      {children}\n    </EpochContext.Provider>\n  );\n};\n\nexport default EpochStoreProvider;\n","import { Line } from 'react-chartjs-2';\n\nimport React, { useContext, useEffect } from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport {Card, Grid, Divider, useMediaQuery, useTheme} from '@geist-ui/react'\nimport { StatsRowItem } from '../common/index';\nimport {formatBN} from \"../../utils/number\";\nimport {EpochContext, ContextType } from \"../../store/EpochStore\";\nimport {MainContext, ContextType as MainContextType } from \"../../store/MainStore\";\n\nimport { createVoidZero } from 'typescript';\n\nfunction fm(bn){\n  let num = (formatBN(bn, 2))\n  return num;\n}\n\nconst MomentumHeader = ({ user }: {user: string}) => {\n  const theme = useTheme();\n  const { peggedTokens } = React.useContext(MainContext) as MainContextType;\n  const { regulations, epochData, updateEpochData, updateRegulations} = React.useContext(EpochContext) as ContextType;\n\n  const downMD = useMediaQuery('md', { match: 'down' })\n  const upSM = useMediaQuery('sm', { match: 'up' })\n\n  let price =  new BigNumber(0);\n  let lastTwap = new BigNumber(0);\n  peggedTokens.filter((_peg) => {\n    if (_peg.symbol === 'DSD') {\n      price = _peg.stats.price\n      lastTwap = _peg.stats.lastTwap\n    }\n  })\n\n  const timeElapsed = Date.now()/1000 - epochData.previousEpochTimestamp;\n  const priceWeight = timeElapsed/epochData.currentEpochLength;\n  const estimatedTwap = priceWeight*price.toNumber() + (1-priceWeight)*lastTwap.toNumber();\n\n  // chart data\n  let regs = regulations.reverse().slice(-15)\n  const prices = regs.map((reg) => Number(reg.price.toNumber().toFixed(2)));\n  const momentumPrice = regs.map((reg) =>  reg.momentumPrice ? Number(reg.momentumPrice.toNumber().toFixed(2)): 0);\n  const labels = regs.map((x) => x.epoch)\n  // @ts-ignore\n  const nextChange = momentumPrice.length > 1 ? (momentumPrice[momentumPrice.length-1].toFixed(2) > estimatedTwap.toFixed(2) ? 'Contraction' : 'Expansion' ) : ''\n  const price_data = {\n      labels: labels,\n      datasets: [\n        {\n          label: 'Price ($)',\n          data: prices,\n          backgroundColor: 'rgba(75,192,192,0.4)',\n          borderColor: 'rgba(75,192,192,1)',\n          borderCapStyle: 'butt',\n          borderDash: [],\n          borderDashOffset: 0.0,\n          borderJoinStyle: 'miter',\n          pointBorderColor: 'rgba(75,192,192,1)',\n          pointBackgroundColor: '#fff',\n          pointBorderWidth: 1,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\n          pointHoverBorderWidth: 2,\n          pointRadius: 3,\n        },\n        {\n          label: 'Momentum ($)',\n          borderDash: [5,15],\n          backgroundColor: 'rgba(255,99,132,0.2)',\n      borderColor: 'rgba(255,99,132,1)',\n      borderWidth: 1,\n      hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n      hoverBorderColor: 'rgba(255,99,132,1)',\n          data: momentumPrice\n        }\n      ]\n    };\n  const options = {\n    responsive: true,\n    layout: {\n        padding: {\n            left: 10,\n            right: 10,\n            top: 10,\n            bottom: 10\n        }\n    },\n    scales: {\n      yAxes: [{\n        display: downMD ? false :true,\n        position: 'right',\n        ticks: {\n          callback: function(label, index, labels) {\n              return '$' + label;\n          }\n      },\n      }],\n      xAxes: [{\n        display: downMD ? false :true,\n        ticks: {\n          callback: function(label, index, labels) {\n              return 'Ep ' + label;\n          }\n        }\n      }]\n    }\n  }\n\n  useEffect(() => {\n      updateRegulations();\n      updateEpochData();\n  },[user])\n  return (\n      <Card style={{display: 'flex'}}>\n        <Card type=\"lite\" shadow style={{fontSize: '12px', background: theme.palette.accents_3}}>\n          <Grid.Container gap={2} justify=\"center\">\n\n              <Grid xs={24} md={6}>\n               Momentum Price: <span style={{color: theme.palette.accents_6, fontSize: '12px'}}>{momentumPrice[momentumPrice.length -1]?.toFixed(2) || 0}DSD</span>\n              </Grid>\n              <Grid xs={24} md={6}>\n              Estimated TWAP: <span style={{color: theme.palette.accents_6, fontSize: '12px'}}>{estimatedTwap.toFixed(2)}DSD</span>\n              </Grid>\n              <Grid xs={24} md={6}>\n              Last TWAP Price: <span style={{color: theme.palette.accents_6, fontSize: '12px'}}>{fm(lastTwap)}DSD</span>\n              </Grid>\n              <Grid xs={24} md={6}>\n              Next Epoch: <span style={{color: theme.palette.accents_6, fontSize: '12px'}}>{nextChange}</span>\n              </Grid>\n              </Grid.Container>\n          </Card>\n          <Line height={upSM ? 55 : 400}\n                          legend={{display: false}}\n                          data={price_data}\n                          options={options}/> \n\n        \n      </Card>\n  )\n};\n\n\nexport default MomentumHeader;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box, IconCirclePlus, Timer,\n  Table, TableHeader, TableRow, TableCell, Text, Help\n} from '@aragon/ui';\n\nimport {Fieldset, Button, Divider, useTheme} from '@geist-ui/react'\nimport { SkipForward } from '@geist-ui/react-icons'\nimport {getEpoch, getEpochTime, getNextEpochTimestamp, getCurrentEpochLength\n} from '../../utils/infura';\nimport {advance} from '../../utils/web3';\nimport {VTDD} from \"../../constants/tokens\";\n// import AdvanceEpoch from './AdvanceEpoch';\n// import EpochPageHeader from \"./Header\";\nimport IconHeader from \"../common/IconHeader\";\n\ntype ButtonTypes =\n  | 'default'\n  | 'secondary'\n  | 'success'\n  | 'warning'\n  | 'error'\n  | 'abort'\n  | 'secondary-light'\n  | 'success-light'\n  | 'warning-light'\n  | 'error-light'\n\n\nfunction EpochDetail({ user }: {user: string}) {\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  const [nextEpochTimestamp, setNextEpochTimestamp] = useState(0);\n  const [currentEpochLength, setCurrentEpochLength] = useState(0);\n  const [advanceMode, setAdvanceMode] = useState<ButtonTypes>('success');\n  const theme = useTheme();\n  var endDate = nextEpochTimestamp*1000\n  var safetyEnd = (nextEpochTimestamp+91)\n\n  function secondsToHms(d) {\n    d = Number(d);\n    var h = Math.floor(d / 3600);\n    var m = Math.floor(d % 3600 / 60);\n    var s = Math.floor(d % 3600 % 60);\n\n    var hDisplay = h > 0 ? h + (h == 1 ? \" hour, \" : \" hours, \") : \"\";\n    var mDisplay = m > 0 ? m + (m == 1 ? \" minute, \" : \" minutes, \") : \"\";\n    var sDisplay = s > 0 ? s + (s == 1 ? \" second\" : \" seconds\") : \"\";\n    return hDisplay + mDisplay + sDisplay; \n  }\n\n  function calcAdvanceMode() {\n    const now = Date.now()/1000 \n    if (now < nextEpochTimestamp) {\n      setAdvanceMode('error');\n    } else {\n      setAdvanceMode('success');\n    }\n  }\n\n  var currentEpochLengthFmt = secondsToHms(currentEpochLength)\n\n  useEffect(() => {\n    let isCancelled = false;\n    async function updateUserInfo() {\n      const [epochStr, epochTimeStr, nextEpochTimestampStr, currentEpochLengthStr] = await Promise.all([\n        getEpoch(VTDD.addr),\n        getEpochTime(VTDD.addr),\n        getNextEpochTimestamp(VTDD.addr),\n        getCurrentEpochLength(VTDD.addr)\n\n      ]);\n\n      if (!isCancelled) {\n        setEpoch(parseInt(epochStr, 10));\n        setEpochTime(parseInt(epochTimeStr, 10));\n        setNextEpochTimestamp(parseInt(nextEpochTimestampStr, 10));\n        setCurrentEpochLength(parseInt(currentEpochLengthStr, 10));\n        calcAdvanceMode();\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 1200);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Fieldset style={{marginTop: '10px'}}>\n      <Divider y={0} />\n      <Fieldset.Content>\n        <Fieldset.Subtitle>Current Epoch:  <span style={{color: theme.palette.accents_4}}>{epoch}</span></Fieldset.Subtitle>\n        <Fieldset.Subtitle>Epoch Length: <span style={{color: theme.palette.accents_4}}>{currentEpochLengthFmt}</span></Fieldset.Subtitle>\n        <Fieldset.Subtitle>Next Epoch In: </Fieldset.Subtitle>\n        <Timer showEmpty={true} format='hms' end={endDate} /> \n      </Fieldset.Content>\n      <Fieldset.Footer>\n        <Fieldset.Footer.Status>\n          <Text type=\"error\">Advance the Epoch for reward:</Text>\n        </Fieldset.Footer.Status>\n        <Fieldset.Footer.Actions>\n          <Button icon={<SkipForward />} auto size=\"mini\" type={advanceMode}\n               onClick={() => {\n                advance(VTDD.addr);\n              }}\n          >Advance</Button>\n        </Fieldset.Footer.Actions>\n      </Fieldset.Footer>\n    </Fieldset>\n  );\n}\n\nexport default EpochDetail;\n","import React, { useEffect, useState } from 'react'\nimport { useTheme, Link } from '@geist-ui/react'\nimport _JSXStyle from \"styled-jsx/style\"\nimport { X } from '@geist-ui/react-icons'\n\n\ninterface Props {\n  visible: boolean\n  onClose?: () => void\n}\n\nconst Overlay: React.FC<React.PropsWithChildren<Props>> = ({\n  visible: customVisible,\n  onClose,\n  children,\n}) => {\n  const theme = useTheme()\n  const [visible, setVisible] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (customVisible !== undefined) {\n      setVisible(customVisible)\n    }\n  }, [customVisible])\n\n  const clickHandler = (e) => {\n    setVisible(false)\n    onClose && onClose()\n    e.preventDefault()\n\n  }\n  return (\n    <section className={visible ? 'active' : ''}>\n      <Link className='overlayClose' onClick={clickHandler} style={{position: 'fixed', right: '20px', top: '10px', zIndex: 5001}}><X /></Link>\n      {children}\n      <style jsx>{`\n        section {\n          position: fixed;\n          width: 100vw;\n          height: 100vh;\n          background-color: ${theme.palette.background};\n          z-index: 5000;\n          top: -5000px;\n          left: -5000px;\n          display: none;\n        }\n\n        .active {\n          top: 0;\n          left: 0;\n          bottom: 0;\n          display: block;\n        }\n      `}</style>\n    </section>\n  )\n}\n\nexport default Overlay\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged, getFluidUntil, getLockedUntil,\n  getStatusOf, getTokenAllowance,\n  getTokenBalance, getTokenTotalSupply,\n} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport AccountPageHeader from \"./Header\";\nimport Pool from \"../Pool\";\nimport EmptyPool from \"../Pool/EmptyPool\";\n\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport MomentumHeader from \"./MomentumHeader\";\n\nimport EpochDetail from \"../EpochDetail\";\n\nimport { SidePanel} from '@aragon/ui'\nimport Overlay from '../layout/overlay'\nimport { useTheme, Grid, Card, Button, Divider, Page } from '@geist-ui/react'\n\nimport { MainContext, ContextType } from \"../../store/MainStore\";\n\nfunction Wallet({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n  const theme = useTheme();\n  const [sidePanelOpened, setSidePanelOpened] = useState(false)\n  const [userVTDBalance, setUserVTDBalance] = useState(new BigNumber(0));\n  const [userVTDAllowance, setUserVTDAllowance] = useState(new BigNumber(0));\n  const [userVTDSBalance, setUserVTDSBalance] = useState(new BigNumber(0));\n  const [totalVTDSSupply, setTotalVTDSSupply] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [lockup, setLockup] = useState(0);\n  const [selectedTab, setSelectedTab] = useState(0)\n  \n  const { peggedTokens, updatePools } = React.useContext(MainContext) as ContextType;\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setUserVTDBalance(new BigNumber(0));\n      setUserVTDAllowance(new BigNumber(0));\n      setUserVTDSBalance(new BigNumber(0));\n      setTotalVTDSSupply(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        vtdBalance, vtdAllowance, vtdsBalance, vtdsSupply, stagedBalance, bondedBalance, status,\n        fluidUntilStr, lockedUntilStr\n      ] = await Promise.all([\n        getTokenBalance(VTD.addr, user),\n        getTokenAllowance(VTD.addr, user, VTDD.addr),\n        getTokenBalance(VTDD.addr, user),\n        getTokenTotalSupply(VTDD.addr),\n        getBalanceOfStaged(VTDD.addr, user),\n        getBalanceBonded(VTDD.addr, user),\n        getStatusOf(VTDD.addr, user),\n\n        getFluidUntil(VTDD.addr, user),\n        getLockedUntil(VTDD.addr, user),\n      ]);\n\n      const userVTDBalance = toTokenUnitsBN(vtdBalance, VTD.decimals);\n      const userVTDSBalance = toTokenUnitsBN(vtdsBalance, VTDD.decimals);\n      const totalVTDSSupply = toTokenUnitsBN(vtdsSupply, VTDD.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, VTDD.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, VTDD.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n      const lockedUntil = parseInt(lockedUntilStr, 10);\n\n      if (!isCancelled) {\n        setUserVTDBalance(new BigNumber(userVTDBalance));\n        setUserVTDAllowance(new BigNumber(vtdAllowance));\n        setUserVTDSBalance(new BigNumber(userVTDSBalance));\n        setTotalVTDSSupply(new BigNumber(totalVTDSSupply));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(Math.max(fluidUntil, lockedUntil))\n        // setLockup(poolAddress === DollarPool4 ? DAO_EXIT_LOCKUP_EPOCHS : 1);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 10000);\n    updatePools();\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n\n  return (\n    <>\n    <Grid.Container gap={2} justify=\"center\">\n      <Grid xs={24} md={18}>\n         <MomentumHeader user={user}/> \n         <Card type=\"lite\" style={{margin: '10px 0', background: `${theme.palette.accents_2}`}}>\n            DAO\n            <Divider y={0} />\n            <AccountPageHeader\n              accountVTDBalance={userVTDBalance}\n              accountVTDSBalance={userVTDSBalance}\n              totalVTDSSupply={totalVTDSSupply}\n              accountStagedBalance={userStagedBalance}\n              accountBondedBalance={userBondedBalance}\n              accountStatus={userStatus}\n              unlocked={userStatusUnlocked}\n            />\n            <Divider y={0} />\n\n                  <Button\n                  // icon={<IconPlus />}\n                  onClick={() => setSidePanelOpened(true)}\n                >Bond/Unbond Tokens </Button>\n\n          </Card>\n\n          {peggedTokens.map((peg, index) => \n            peg.enabled ? <Pool user={user} peg={peg} /> : <EmptyPool peg={peg} />\n          )}\n      </Grid>\n      <Grid xs={24} md={6}>\n      <EpochDetail user={user}/>\n      \n      </Grid>\n    </Grid.Container>\n            \n      \n      <Overlay\n        visible={sidePanelOpened}\n        onClose={() => setSidePanelOpened(false)}\n      >\n        <Page>\n    \n            <WithdrawDeposit\n            user={user}\n            balance={userVTDBalance}\n            allowance={userVTDAllowance}\n            stagedBalance={userStagedBalance}\n            status={userStatus}\n          />\n    \n          <BondUnbond\n            staged={userStagedBalance}\n            bonded={userBondedBalance}\n            status={userStatus}\n            lockup={lockup}\n          />\n\n        \n      </Page>\n      </Overlay>\n    </>\n  );\n}\n\nexport default Wallet;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {Grid} from '@geist-ui/react'\nimport BigNumber from 'bignumber.js';\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged, getFluidUntil, getLockedUntil,\n  getStatusOf, getTokenAllowance,\n  getTokenBalance,\n  getCouponPremium,\n  getPoolTotalClaimable, getPoolTotalRewarded,\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged,\n  getEpoch, getEpochTime, getNextEpochTimestamp, getCurrentEpochLength,\n} from '../../utils/infura';\n\nimport {formatBN, ownership} from \"../../utils/number\";\n\nimport {VTD, VTDD} from \"../../constants/tokens\";\n\nimport {BalanceBlock, StatsRowItem} from \"../common/index\";\n\nimport {DAO_EXIT_LOCKUP_EPOCHS, GOVERNANCE_PERIOD, POOL_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport { MainContext, ContextType, IPeggedToken} from \"../../store/MainStore\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction Stats({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  const [nextEpochTimestamp, setNextEpochTimestamp] = useState(0);\n  const [currentEpochLength, setCurrentEpochLength] = useState(0);\n  const [_pegs, setPegs] = useState([]);\n  const { peggedTokens, totals, updatePools, updateTotals} = React.useContext(MainContext) as ContextType;\n  \n  let price =  new BigNumber(0);\n  let lastTwap = new BigNumber(0);\n  peggedTokens.filter((_peg) => {\n    if (_peg.symbol === 'ETH') {\n      price = _peg.stats.price.multipliedBy(_peg.usdcPrice)\n      lastTwap = _peg.stats.lastTwap.multipliedBy(_peg.usdcPrice)\n    }\n  })\n  \n  const marketcap = totals.totalSupply.multipliedBy(price);\n  const currentEpochLengthFmt = secondsToM(currentEpochLength);\n  const infinity = '\\u221E'; \n\n  function secondsToM(d) {\n    d = Number(d);\n    var m = Math.floor(d / 60);\n    return m;\n  }\n\n  function fm(bn){\n    let num = (formatBN(bn, 2));\n    return num;\n  }\n\n  function inUsdc(amount, rate) {\n    return amount.multipliedBy(rate)\n  }\n\n  function totalYield() {\n      var delta = (price.toNumber()-1)/12\n      delta = delta > 0.1 ? 0.1 : delta\n      delta = epoch > 36 ? delta : 0.06\n      return (totals.totalSupply.toNumber())*delta\n  }\n\n  function daoYield(){\n    return (totalYield()*0.6/totals.totalBonded.toNumber()*100).toFixed(3)\n  }\n\n  function compound(rate, days) {\n      let epochs_per_day = 24*60/currentEpochLengthFmt\n      let times = days*epochs_per_day\n      let real_rate =((1+rate/100)**times -1)*100 \n      return real_rate < 5000000 ? real_rate.toFixed(3) : infinity\n  }\n\n  function LPYield(share, peg){\n    const supply = peg.stats.vtdBalance;\n    const vtdPrice = peg.stats.price.multipliedBy(peg.usdcPrice)\n    const pegValue = peg.stats.pegBalance.multipliedBy(peg.usdcPrice)\n    let lp_size = supply.multipliedBy(vtdPrice).multipliedBy(2)\n    return (totalYield()*price.toNumber()*0.4/lp_size.toNumber()*share.toNumber()).toFixed(3)\n  }\n\n  function calcLinearYield(rate, days) {\n    let epochs_per_day = 24*60/currentEpochLengthFmt\n    let times = days*epochs_per_day\n    return (rate*times).toFixed(3)\n  }\n  //Update User balances\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n        const [epochStr, epochTimeStr, nextEpochTimestampStr, currentEpochLengthStr] = await Promise.all([\n            getEpoch(VTDD.addr),\n            getEpochTime(VTDD.addr),\n            getNextEpochTimestamp(VTDD.addr),\n            getCurrentEpochLength(VTDD.addr),\n        ]);\n\n        if (!isCancelled) {\n            setEpoch(parseInt(epochStr, 10));\n            setEpochTime(parseInt(epochTimeStr, 10));\n            setNextEpochTimestamp(parseInt(nextEpochTimestampStr, 10));\n            setCurrentEpochLength(parseInt(currentEpochLengthStr, 10));\n\n            if (totals.totalDebt.isGreaterThan(ONE_COUPON)) {\n            const couponPremiumStr = await getCouponPremium(VTDD.addr, ONE_COUPON)\n            setCouponPremium(toTokenUnitsBN(couponPremiumStr, VTD.decimals));\n            } else {\n            setCouponPremium(new BigNumber(0));\n            }\n            // setLockup(poolAddress === DollarPool4 ? DAO_EXIT_LOCKUP_EPOCHS : 1);\n            \n        }\n    }\n    updateUserInfo(); \n    updatePools(); \n    updateTotals();\n  }, [user]);\n\n\n  return (\n    <>\n    <Grid.Container gap={5} justify=\"center\">\n        <Grid xs={12} sm={6}>\n        <BalanceBlock asset=\"Epoch Length\" balance={currentEpochLengthFmt} suffix={\" min\"}/>\n\n        </Grid>\n        <Grid xs={12} sm={6}>\n        <BalanceBlock asset=\"Epoch #\" balance={epoch}  suffix={\"\"}/>\n\n        </Grid>\n        <Grid xs={12} sm={6}>\n        <BalanceBlock asset=\"Spot Price (USD)\" balance={price} suffix={\"\"} />\n        </Grid>\n        <Grid xs={12} sm={6}>\n        <BalanceBlock asset=\"Last TWAP Price (USD)\" balance={lastTwap} suffix={\"\"} />\n        </Grid>\n\n    <Grid xs={24} sm={12}>\n\n      <StatsRowItem asset=\"Market Cap ($)\" value={fm(marketcap)} suffix={\" USD\"}/>\n      <StatsRowItem asset=\"Tokens\" value={fm(totals.totalSupply)}  suffix={\"\"}/>\n    </Grid>\n    <Grid xs={24} sm={12}>\n      <StatsRowItem asset=\"Coupon\" value={fm(totals.totalCoupon)} suffix={\"\"} />\n      <StatsRowItem asset=\"Coupon Premium\" value={fm(couponPremium)}  suffix={\"%\"}/>\n    </Grid>\n    <Grid xs={24} sm={12}>\n      <div style={{ fontSize: 14, lineHeight: 2}}>Stats</div>\n        <StatsRowItem asset=\"Circulating Supply\" value={fm(totals.circulating)}  suffix={\"\"}/>\n        <StatsRowItem asset=\"DAO Staged\" value={fm(totals.totalStaged)} suffix={\"\"} />\n        <StatsRowItem asset=\"DAO Bonded\" value={fm(totals.totalBonded)}  suffix={\"\"}/>\n    </Grid>\n    <Grid xs={24} sm={12}>\n          <div style={{ fontSize: 14, lineHeight: 2}}>DAO Yield</div>\n\n      <StatsRowItem asset=\"Day Yield\" value={compound(daoYield(), 1)} suffix={\"%\"}/>\n      <StatsRowItem asset=\"Month Yield\" value={compound(daoYield(),30)}  suffix={\"%\"}/>\n      <StatsRowItem asset=\"Annual Yield\" value={compound(daoYield(), 365)} suffix={\"%\"} />\n    </Grid>\n\n     {\n    //  @ts-ignore\n    peggedTokens.map((peggedToken) =>\n    //@ts-ignore\n      peggedToken.hasOwnProperty('stats') && peggedToken.enabled ?\n      <Grid xs={24} sm={12}>\n        <div style={{ fontSize: 14, lineHeight: 2}}>{peggedToken.symbol} Pool: <small>{`1 ${peggedToken.symbol} = ${peggedToken.usdcPrice.toFixed(2)} USD`}</small></div>\n        <StatsRowItem asset=\"Price\" value={fm(peggedToken.stats.pegBalance.dividedBy(peggedToken.stats.vtdBalance))} suffix={peggedToken.symbol}/>\n        <StatsRowItem asset=\"VTD Bonded\" value={fm(peggedToken.stats.vtdBalance)} suffix={\"VTD\"}/>\n        <StatsRowItem asset={`${peggedToken.symbol} Bonded`} value={fm(peggedToken.stats.pegBalance)} suffix={peggedToken.symbol}/>\n        <div style={{marginTop: '10px', marginLeft: '20px'}}>\n          <StatsRowItem asset=\"LP Rewarded\" value={fm(peggedToken.stats.poolReward)} suffix={\"\"} />\n          <StatsRowItem asset=\"LP Claimable\" value={fm(peggedToken.stats.poolClaimable)} suffix={\"\"}/>\n          <StatsRowItem asset=\"% LP Rewards\" value={fm(ownership(peggedToken.stats.vtdBalance, totals.totalLPBonded))} suffix={\"%\"}/>\n\n          <div style={{ fontSize: 14, lineHeight: 2}}>LP Yield (in USD)</div>\n\n          <StatsRowItem asset=\"Day Yield\" value={calcLinearYield(LPYield(ownership(peggedToken.stats.vtdBalance,totals.totalLPBonded), peggedToken),1)} suffix={\"%\"}/>\n          <StatsRowItem asset=\"Month Yield\" value={calcLinearYield(LPYield(ownership(peggedToken.stats.vtdBalance,totals.totalLPBonded), peggedToken),30)}  suffix={\"%\"}/>\n          <StatsRowItem asset=\"Annual Yield\" value={calcLinearYield(LPYield(ownership(peggedToken.stats.vtdBalance,totals.totalLPBonded), peggedToken), 365)} suffix={\"%\"} />\n        </div>\n        </Grid> : <></>\n     )}\n          <Grid xs={24} sm={12}>\n\n                <div style={{ fontSize: 14, lineHeight: 2}}>Info:</div>\n\n              <StatsRowItem asset=\"DAO Lockup\" value={DAO_EXIT_LOCKUP_EPOCHS} suffix={\"\"}/>\n              <StatsRowItem asset=\"LP Lockup\" value={POOL_EXIT_LOCKUP_EPOCHS}  suffix={\"\"}/>\n              <StatsRowItem asset=\"Governance Period\" value={GOVERNANCE_PERIOD} suffix={\"\"} />\n          </Grid>\n          <Grid xs={24} sm={12}>\n\n                <div style={{ fontSize: 14, lineHeight: 2}}>Current Settings:</div>\n\n                <StatsRowItem asset=\"Max Expansion\" value={10} suffix={\"%\"}/>\n                <StatsRowItem asset=\"Advance Reward\" value='Reverse Dutch Auction'  suffix={\"\"}/>\n                <StatsRowItem asset=\"Current Pegged Token\" value={'DSD'} suffix={\"\"} />\n          </Grid>\n    </Grid.Container>\n    </>\n  );\n}\n\nexport default Stats;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\nimport {ownership} from \"../../utils/number\";\n\ntype CouponMarketHeaderProps = {\n  debt: BigNumber,\n  supply: BigNumber,\n  coupons: BigNumber,\n  premium: BigNumber,\n  redeemable: BigNumber,\n};\n\nconst CouponMarketHeader = ({\n  debt, supply, coupons, premium, redeemable\n}: CouponMarketHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Debt Ratio\" balance={ownership(debt, supply)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Total Debt\" balance={debt} suffix={\"VTD\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Coupons\" balance={coupons} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Premium\" balance={premium.multipliedBy(100)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Redeemable\" balance={redeemable}/>\n    </div>\n  </div>\n);\n\n\nexport default CouponMarketHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton, PriceSection,\n} from '../common/index';\nimport {approve, purchaseCoupons} from '../../utils/web3';\n\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport {getCouponPremium} from \"../../utils/infura\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype PurchaseCouponsProps = {\n  user: string,\n  allowance: BigNumber,\n  balance: BigNumber,\n  debt: BigNumber,\n};\n\nfunction PurchaseCoupons({\n  user, balance, allowance, debt,\n}: PurchaseCouponsProps) {\n  const [purchaseAmount, setPurchaseAmount] = useState(new BigNumber(0));\n  const [premium, setPremium] = useState(new BigNumber(0));\n\n  const updatePremium = async (purchaseAmount) => {\n    if (purchaseAmount.lte(new BigNumber(0))) {\n      setPremium(new BigNumber(0));\n      return;\n    }\n    const purchaseAmountBase = toBaseUnitBN(purchaseAmount, VTD.decimals);\n    const premium = await getCouponPremium(VTDD.addr, purchaseAmountBase)\n    const premiumFormatted = toTokenUnitsBN(premium, VTD.decimals);\n    setPremium(premiumFormatted);\n  };\n\n  return (\n    <Box heading=\"Purchase\">\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* User balance */}\n          <div style={{flexBasis: '30%'}}>\n            <BalanceBlock asset={`Balance`} balance={balance} suffix={\" VTD\"}/>\n          </div>\n          <div style={{flexBasis: '38%'}}/>\n          {/* Purchase coupons */}\n          <div style={{flexBasis: '32%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"VTD\"\n                    value={purchaseAmount}\n                    setter={(value) => {\n                      setPurchaseAmount(value);\n                      isPos(value) ? updatePremium(value) : updatePremium(new BigNumber(0));\n                    }}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      const maxPurchaseAmount = debt.comparedTo(balance) > 0 ? balance : debt\n                      setPurchaseAmount(maxPurchaseAmount);\n                      updatePremium(maxPurchaseAmount);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '6em'}}>\n                <Button\n                  wide\n                  icon={<IconCircleMinus/>}\n                  label=\"Burn\"\n                  onClick={() => {\n                    purchaseCoupons(\n                      VTDD.addr,\n                      toBaseUnitBN(purchaseAmount, VTD.decimals),\n                    );\n                  }}\n                  disabled={user === '' || debt.isZero() || balance.isZero() || !isPos(purchaseAmount)}\n                />\n              </div>\n            </div>\n            <PriceSection label=\"Coupons \" amt={purchaseAmount.plus(premium)}/>\n          </div>\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* User balance */}\n          <div style={{flexBasis: '30%'}}>\n            <BalanceBlock asset={`Dllar Balance`} balance={balance}/>\n          </div>\n          <div style={{flexBasis: '40%'}}/>\n          {/* Approve DAO to spend Dllar */}\n          <div style={{flexBasis: '30%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus/>}\n              label=\"Approve\"\n              onClick={() => {\n                approve(VTD.addr, VTDD.addr);\n              }}\n              disabled={user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default PurchaseCoupons;\n","import React, {useEffect, useState} from 'react';\nimport {\n  DataView, Button, IconCirclePlus\n} from '@aragon/ui';\n\nimport {getBatchBalanceOfCoupons, getBatchCouponsExpiration, getCouponEpochs} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {formatBN, toBaseUnitBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport {redeemCoupons} from \"../../utils/web3\";\n\ntype PurchaseHistoryProps = {\n  user: string,\n  hideRedeemed: boolean,\n  totalRedeemable: BigNumber\n};\n\nfunction PurchaseHistory({\n  user, hideRedeemed, totalRedeemable\n}: PurchaseHistoryProps) {\n  const [epochs, setEpochs] = useState([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') return;\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const epochsFromEvents = await getCouponEpochs(VTDD.addr, user);\n      const epochNumbers = epochsFromEvents.map(e => parseInt(e.epoch));\n      const balanceOfCoupons = await getBatchBalanceOfCoupons(VTDD.addr, user, epochNumbers);\n      const couponsExpirations = await getBatchCouponsExpiration(VTDD.addr, epochNumbers);\n\n      const couponEpochs = epochsFromEvents.map((epoch, i) => {\n        epoch.balance = new BigNumber(balanceOfCoupons[i]);\n        epoch.expiration = couponsExpirations[i];\n        return epoch;\n      });\n\n      if (!isCancelled) {\n        // @ts-ignore\n        setEpochs(couponEpochs);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, totalRedeemable]);\n\n  return (\n    <DataView\n      fields={['Epoch', 'Purchased', 'Balance', 'Expires', '']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={hideRedeemed ? epochs.filter((epoch) => !epoch.balance.isZero()) : epochs}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(epoch) => [\n        epoch.epoch.toString(),\n        formatBN(toTokenUnitsBN(epoch.coupons, VTD.decimals), 2),\n        formatBN(toTokenUnitsBN(epoch.balance, VTD.decimals), 2),\n        epoch.expiration.toString(),\n        <Button\n          icon={<IconCirclePlus />}\n          label=\"Redeem\"\n          onClick={() => redeemCoupons(\n            VTDD.addr,\n            epoch.epoch,\n            epoch.balance.isGreaterThan(toBaseUnitBN(totalRedeemable, VTD.decimals))\n              ? toBaseUnitBN(totalRedeemable, VTD.decimals)\n              : epoch.balance\n          )}\n          disabled={epoch.balance.isZero()}\n        />\n      ]}\n    />\n  );\n}\n\nexport default PurchaseHistory;\n","import React, { useState } from 'react';\nimport { Modal, Button, useTheme } from '@aragon/ui';\nimport { getPreference, storePreference } from \"../../utils/storage\";\nimport { COUPON_EXPIRATION } from \"../../constants/values\";\n\nfunction ModalWarning() {\n  const storedShowWarning = getPreference('showCouponWarning', '1');\n  const [showWarning, setShowWarning] = useState(storedShowWarning === '1');\n  const theme = useTheme();\n\n  return (\n    <Modal visible={showWarning} closeButton={false}>\n      <div style={{ width: '100%' }}>\n        <div style={{ fontSize: 24, padding: 3, color: theme.warning }}>\n          Warning\n        </div>\n\n        <div style={{\n          marginLeft: '3%',\n          fontSize: 16,\n          padding: 5\n        }}>\n          <div>\n            By purchasing coupons the buyer incurs significant risk of loss.\n            Coupons will only become redeemable during the next supply\n            expansion. Each expansionary epoch, a tranche of rewards are\n            reserved for coupon redemptions by the DAO. At that time, the\n            redemption process is first come, first served. Coupon redemption\n            is not guaranteed.\n          </div>\n\n          <div style={{\n            padding: 10,\n            textAlign: 'center',\n            color: theme.warningSurfaceContent\n          }}>\n            Coupons will expire worthless if not redeemed\n            within {COUPON_EXPIRATION} epochs.\n          </div>\n        </div>\n\n        <div style={{ textAlign: 'right' }}>\n          <Button\n            label={'I understand'}\n            onClick={() => {\n              storePreference('showCouponWarning', '0');\n              setShowWarning(false);\n            }}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ModalWarning;\n","import React, { useState, useEffect } from 'react';\nimport { Header, Box } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getCouponPremium,\n  getTokenAllowance,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalCoupons,\n  getTotalDebt, getTotalRedeemable,\n} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport CouponMarketHeader from \"./Header\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport PurchaseCoupons from \"./PurchaseCoupons\";\nimport PurchaseHistory from \"./PurchaseHistory\";\nimport ModalWarning from \"./ModalWarning\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPreference, storePreference} from \"../../utils/storage\";\nimport {CheckBox} from \"../common\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction CouponMarket({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const storedHideRedeemed = getPreference('hideRedeemedCoupons', '0');\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const [allowance, setAllowance] = useState(new BigNumber(0));\n  const [supply, setSupply] = useState(new BigNumber(0));\n  const [coupons, setCoupons] = useState(new BigNumber(0));\n  const [redeemable, setRedeemable] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n  const [debt, setDebt] = useState(new BigNumber(0));\n  const [hideRedeemed, setHideRedeemed] = useState(storedHideRedeemed === '1');\n\n  useEffect(() => {\n    if (user === '') {\n      setBalance(new BigNumber(0));\n      setAllowance(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [balanceStr, allowanceStr] = await Promise.all([\n        getTokenBalance(VTD.addr, user),\n        getTokenAllowance(VTD.addr, user, VTDD.addr),\n      ]);\n\n      const userBalance = toTokenUnitsBN(balanceStr, VTD.decimals);\n\n      if (!isCancelled) {\n        setBalance(new BigNumber(userBalance));\n        setAllowance(new BigNumber(allowanceStr));\n        (new BigNumber(allowanceStr));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [supplyStr, debtStr, couponsStr, redeemableStr] = await Promise.all([\n        getTokenTotalSupply(VTD.addr),\n        getTotalDebt(VTDD.addr),\n        getTotalCoupons(VTDD.addr),\n        getTotalRedeemable(VTDD.addr),\n      ]);\n\n      const totalSupply = toTokenUnitsBN(supplyStr, VTD.decimals);\n      const totalDebt = toTokenUnitsBN(debtStr, VTD.decimals);\n      const totalCoupons = toTokenUnitsBN(couponsStr, VTD.decimals);\n      const totalRedeemable = toTokenUnitsBN(redeemableStr, VTD.decimals);\n\n      if (!isCancelled) {\n        setSupply(new BigNumber(totalSupply));\n        setDebt(new BigNumber(totalDebt));\n        setCoupons(new BigNumber(totalCoupons));\n        setRedeemable(new BigNumber(totalRedeemable));\n\n        if (totalDebt.isGreaterThan(new BigNumber(1))) {\n          const couponPremiumStr = await getCouponPremium(VTDD.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, VTD.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <ModalWarning/>\n\n      <Box>\n\n      <CouponMarketHeader\n        debt={debt}\n        supply={supply}\n        coupons={coupons}\n        premium={couponPremium}\n        redeemable={redeemable}\n      />\n      </Box>\n\n      <h5 style={{\n                    fontSize: '10px',\n                    margin: '10px 0'\n                  }}\n                  >Purchase Coupons</h5>\n\n      <PurchaseCoupons\n        user={user}\n        allowance={allowance}\n        balance={balance}\n        debt={debt}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <h5 style={{\n                    fontSize: '10px',\n                    margin: '10px 0'\n                  }}\n                  >Your Coupons</h5>\n        <div style={{ marginLeft: 'auto', alignSelf: 'flex-end' }}>\n          <CheckBox\n            text=\"Hide Redeemed\"\n            onCheck={(checked) => {\n              storePreference('hideRedeemedCoupons', checked ? '1' : '0');\n              setHideRedeemed(checked);\n            }}\n            checked={hideRedeemed}\n          />\n        </div>\n      </div>\n\n      <PurchaseHistory\n        user={user}\n        hideRedeemed={hideRedeemed}\n        totalRedeemable={redeemable}\n      />\n    </>\n  );\n}\n\nexport default CouponMarket;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport {AddressBlock, BalanceBlock} from \"../common\";\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\nimport {GOVERNANCE_PROPOSAL_THRESHOLD} from \"../../constants/values\";\n\ntype GovernanceHeaderProps = {\n  stake: BigNumber,\n  totalStake: BigNumber,\n  accountStatus: number,\n  implementation: string\n};\n\nconst STATUS_MAP = [\"Frozen\", \"Fluid\", \"Locked\"];\n\nconst GovernanceHeader = ({\n  stake, totalStake, accountStatus, implementation\n}: GovernanceHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(stake, totalStake)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"Proposal Threshold\" balance={GOVERNANCE_PROPOSAL_THRESHOLD.multipliedBy(100)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <TextBlock label=\"Status\" text={STATUS_MAP[accountStatus]}/>\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <AddressBlock label=\"Implementation\" address={implementation} />\n    </div>\n  </div>\n);\n\n\nexport default GovernanceHeader;\n","import {GOVERNANCE_PROPOSAL_THRESHOLD, GOVERNANCE_QUORUM, SUPERMAJORITY} from \"../constants/values\";\nimport BigNumber from \"bignumber.js\";\n\nexport function proposalStatus(epoch, start, period, initialized, approve, reject, total): string {\n  if (start === 0) {\n    return \"N/A\";\n  }\n  if (epoch < start) {\n    return \"Unknown\";\n  }\n  if (initialized) {\n    return \"Committed\"\n  }\n  if (approve.plus(reject).dividedBy(total).comparedTo(SUPERMAJORITY) > 0) {\n    return \"Fast Trackable\"; // Didn't meet quorum\n  }\n  if (epoch < (start + period)) {\n    return \"Voting\"\n  }\n  if (epoch < (start + period)) {\n    return \"Rejected\"; // Not ended\n  }\n  if (approve.plus(reject).dividedBy(total).comparedTo(GOVERNANCE_QUORUM) < 0) {\n    return \"Rejected\"; // Didn't meet quorum\n  }\n  return approve.comparedTo(reject) > 0 ? \"Approved\" : \"Rejected\";\n}\n\nexport function canPropose(stake: BigNumber, totalStake: BigNumber): boolean {\n  return stake.div(totalStake).comparedTo(GOVERNANCE_PROPOSAL_THRESHOLD) >= 0;\n}","import React, { useState } from 'react';\nimport {\n  Box, TextInput, Button, IconToken,\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {recordVote} from '../../utils/web3';\n\nimport {VTDD} from \"../../constants/tokens\";\nimport {canPropose} from \"../../utils/gov\";\n\ntype ProposeCandidateProps = {\n  user: string,\n  stake: BigNumber,\n  totalStake: BigNumber,\n  accountStatus: number\n};\n\nfunction plausibleCandidate(candidate: string): boolean {\n  return (/^(0x)[0-9a-fA-F]{40}$/i.test(candidate));\n}\n\nfunction ProposeCandidate({\n  user, stake, totalStake, accountStatus,\n}: ProposeCandidateProps) {\n  const [candidate, setCandidate] = useState(\"0x\");\n\n  return (\n    <Box heading=\"Propose\">\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        {/* User balance */}\n        <div style={{flexBasis: '62%', paddingTop: '2%'}}>\n          <>\n            <TextInput\n              wide\n              value={candidate}\n              onChange={(event) => {\n                if (event.target.value) {\n                  setCandidate(event.target.value);\n                } else {\n                  setCandidate(\"0x\");\n                }\n              }}\n            />\n          </>\n        </div>\n        <div style={{flexBasis: '6%'}}/>\n        {/* Purchase coupons */}\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconToken/>}\n            label=\"Propose\"\n            onClick={() => {\n              recordVote(\n                VTDD.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={user === '' || !canPropose(stake, totalStake) || !plausibleCandidate(candidate) || accountStatus === 1}\n          />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default ProposeCandidate;\n","import React, {useEffect, useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button, IconRight, DataView\n} from '@aragon/ui';\n\nimport {\n  getAllProposals,\n  getApproveFor,\n  getEpoch,\n  getIsInitialized,\n  getRejectFor,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {VTDD} from \"../../constants/tokens\";\nimport {AddressBlock} from \"../common\";\nimport {proposalStatus} from \"../../utils/gov\";\nimport BigNumber from \"bignumber.js\";\n\ntype CandidateHistoryProps = {\n  user: string;\n};\n\ntype Proposal = {\n  index: number\n  candidate: string,\n  account: string,\n  start: number,\n  period: number,\n  status: string\n}\n\nasync function formatProposals(epoch: number, proposals: any[]): Promise<Proposal[]> {\n  const currentTotalStake = await getTokenTotalSupply(VTDD.addr);\n  const initializeds = await Promise.all(proposals.map((p) => getIsInitialized(VTDD.addr, p.candidate)));\n  const approves = await Promise.all(proposals.map((p) => getApproveFor(VTDD.addr, p.candidate)));\n  const rejecteds = await Promise.all(proposals.map((p) => getRejectFor(VTDD.addr, p.candidate)));\n  const supplyAts = await Promise.all(proposals.map(async (p) => {\n    const at = (p.start + p.period - 1);\n    if (epoch > at) {\n      return await getTotalBondedAt(VTDD.addr, at);\n    }\n    return currentTotalStake;\n  }));\n\n  for (let i = 0; i < proposals.length; i++) {\n    proposals[i].index = (proposals.length - i);\n    proposals[i].start = parseInt(proposals[i].start);\n    proposals[i].period = parseInt(proposals[i].period);\n    proposals[i].status = proposalStatus(\n      epoch,\n      proposals[i].start,\n      proposals[i].period,\n      initializeds[i],\n      new BigNumber(approves[i]),\n      new BigNumber(rejecteds[i]),\n      new BigNumber(supplyAts[i])\n    );\n  }\n  return proposals\n}\n\nfunction CandidateHistory({user}: CandidateHistoryProps) {\n  const history = useHistory();\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, allProposals] = await Promise.all([\n        getEpoch(VTDD.addr),\n        getAllProposals(VTDD.addr),\n      ]);\n\n      if (!isCancelled) {\n        const formattedProposals = await formatProposals(parseInt(epochStr), allProposals);\n        setProposals(formattedProposals);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      fields={['Proposal', 'Candidate', 'Proposed', 'Complete', 'Proposer', 'Status', '']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={proposals}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(proposal) => [\n        \"#\" + proposal.index,\n        <AddressBlock label=\"\" address={proposal.candidate} />,\n        proposal.start.toString(),\n        (proposal.start + proposal.period).toString(),\n        <AddressBlock label=\"\" address={proposal.account} />,\n        proposal.status,\n        <Button\n          wide\n          icon={<IconRight />}\n          label=\"Go To\"\n          onClick={() => {\n            history.push(`/governance/candidate/${proposal.candidate}`);\n          }}\n        />\n      ]}\n    />\n  );\n}\n\nexport default CandidateHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header, Box } from '@aragon/ui';\n\nimport {\n  getImplementation,\n  getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply,\n} from '../../utils/infura';\nimport {VTDD} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport GovernanceHeader from \"./Header\";\nimport ProposeCandidate from \"./ProposeCandidate\";\nimport CandidateHistory from \"./CandidateHistory\";\nimport IconHeader from \"../common/IconHeader\";\nimport {canPropose} from \"../../utils/gov\";\n\nfunction Governance({ user }: {user: string}) {\n\n  const [stake, setStake] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [implementation, setImplementation] = useState(\"0x\");\n\n  useEffect(() => {\n    if (user === '') {\n      setStake(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [statusStr, stakeStr] = await Promise.all([\n        getStatusOf(VTDD.addr, user),\n        getTokenBalance(VTDD.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setStake(toTokenUnitsBN(stakeStr, VTDD.decimals));\n        setUserStatus(parseInt(statusStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [totalStakeStr, implementationStr] = await Promise.all([\n        getTokenTotalSupply(VTDD.addr),\n        getImplementation(VTDD.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalStake(toTokenUnitsBN(totalStakeStr, VTDD.decimals));\n        setImplementation(implementationStr)\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <Box>\n      <GovernanceHeader\n        stake={stake}\n        totalStake={totalStake}\n        accountStatus={userStatus}\n        implementation={implementation}\n      />\n      </Box>\n\n      {\n        canPropose(stake, totalStake) ?\n          <>\n        <h5 style={{\n          fontSize: '10px',\n          margin: '10px 0'\n        }}\n        >Propose Upgrade Candidate</h5>\n            <ProposeCandidate\n              user={user}\n              stake={stake}\n              totalStake={totalStake}\n              accountStatus={userStatus}\n            />\n          </>\n          :\n          ''\n      }\n\n      <h5 style={{\n          fontSize: '10px',\n          margin: '10px 0'\n        }}\n        >Proposals</h5>\n\n      <CandidateHistory user={user}/>\n    </>\n  );\n}\n\nexport default Governance;\n","import React from 'react';\nimport {\n  Box, Button, IconRotateLeft, IconCircleCheck, IconProhibited\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock,\n} from '../common/index';\nimport {recordVote} from '../../utils/web3';\n\nimport {VTDD} from \"../../constants/tokens\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype VoteProps = {\n  candidate: string,\n  stake: BigNumber,\n  vote: number,\n  status: number\n};\n\nconst VOTE_TYPE_MAP = [\"Undecided\", \"Approve\", \"Reject\"]\n\nfunction Vote({\n  candidate, stake, vote, status\n}: VoteProps) {\n  return (\n    <Box heading=\"Vote\">\n      <div style={{display: 'flex'}}>\n        {/* User stake */}\n        <div style={{width: '20%'}}>\n          <BalanceBlock asset=\"My Stake\" balance={stake} suffix={ \"VTDD\"}/>\n        </div>\n        <div style={{width: '20%'}}>\n          <TextBlock label=\"My Vote\" text={VOTE_TYPE_MAP[vote]}/>\n        </div>\n        {/* Remove vote for candidate */}\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconRotateLeft/>}\n            label=\"Unvote\"\n            onClick={() => {\n              recordVote(\n                VTDD.addr,\n                candidate,\n                0 // UNDECIDED\n              );\n            }}\n            disabled={status === 1 || vote === 0 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to approve candidate */}\n        <div style={{width: '3%'}} />\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconCircleCheck/>}\n            label=\"Accept\"\n            onClick={() => {\n              recordVote(\n                VTDD.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={status === 1 || vote === 1 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to reject candidate */}\n        <div style={{width: '3%'}} />\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n              <Button\n                wide\n                icon={<IconProhibited/>}\n                label=\"Reject\"\n                onClick={() => {\n                  recordVote(\n                    VTDD.addr,\n                    candidate,\n                    2 // REJECT\n                  );\n                }}\n                disabled={status === 1 || vote === 2 || stake.isZero()}\n              />\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default Vote;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\n\ntype VoteHeaderProps = {\n  approveFor: BigNumber,\n  rejectFor: BigNumber,\n  totalStake: BigNumber,\n  showParticipation: boolean,\n};\n\nfunction approval(approve: BigNumber, reject: BigNumber): BigNumber {\n  return approve.multipliedBy(10000).dividedToIntegerBy(approve.plus(reject)).dividedBy(100)\n}\n\nfunction participation(approve: BigNumber, reject: BigNumber, totalStake: BigNumber): BigNumber {\n  return approve.plus(reject).multipliedBy(10000).dividedToIntegerBy(totalStake).dividedBy(100)\n}\n\nconst VoteHeader = ({\n  approveFor, rejectFor, totalStake, showParticipation\n}: VoteHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approve\" balance={approveFor} suffix={ \"VTDD\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Reject\" balance={rejectFor} suffix={ \"VTDD\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approval\" balance={approval(approveFor, rejectFor)} suffix=\"%\" />\n    </div>\n    {showParticipation ?\n      <div style={{width: '25%'}}>\n        <BalanceBlock asset=\"Participation\" balance={participation(approveFor, rejectFor, totalStake)} suffix=\"%\"/>\n      </div> : ''\n    }\n  </div>\n);\n\n\nexport default VoteHeader;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\n\ntype NumberBlockProps = {\n  title: string,\n  num: BigNumber | string | number\n}\n\nfunction NumberBlock({ title, num }: NumberBlockProps) {\n  const numNum = new BigNumber(num).toNumber();\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{title}</div>\n      <div style={{ fontSize: 24, padding: 3 }}>{numNum}</div>\n\n    </>\n  );\n}\n\nexport default NumberBlock;\n","import React from 'react';\n\nimport NumberBlock from \"../common/NumberBlock\";\n\ntype CommitHeaderProps = {\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n};\n\nconst CommitHeader = ({\n   epoch, startEpoch, periodEpoch,\n}: CommitHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Epoch\" num={epoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Starts\" num={startEpoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Period\" num={periodEpoch} />\n    </div>\n  </div>\n);\n\n\nexport default CommitHeader;\n","import React from 'react';\nimport {\n  Box, Button, IconUpload\n} from '@aragon/ui';\nimport TextBlock from \"../common/TextBlock\";\nimport {VTDD} from \"../../constants/tokens\";\nimport {commit} from \"../../utils/web3\";\n\ntype CommitProps = {\n  user: string,\n  candidate: string,\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n  initialized: boolean,\n  approved: boolean\n};\n\nfunction Commit({\n  user, candidate, epoch, startEpoch, periodEpoch, initialized, approved,\n}: CommitProps) {\n  function status(epoch, startEpoch, periodEpoch, initialized, approved): string {\n    if (startEpoch === 0) {\n      return \"N/A\";\n    }\n    if (epoch < startEpoch) {\n      return \"Unknown\";\n    }\n    if (epoch < (startEpoch + periodEpoch)) {\n      return \"Voting\"\n    }\n    if (initialized) {\n      return \"Committed\"\n    }\n    if (approved) {\n      return \"Approved\"\n    }\n    return \"Rejected\"\n  }\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n\n  return (\n    <Box heading=\"Commit\">\n      <div style={{display: 'flex'}}>\n        {/* Status */}\n        <div style={{ width: '30%' }}>\n          <TextBlock label=\"Status\" text={s} />\n        </div>\n        <div style={{width: '40%'}} />\n        {/* Commit candidate */}\n        <div style={{width: '30%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n              <Button\n                wide\n                icon={<IconUpload/>}\n                label=\"Commit\"\n                onClick={() => {\n                  commit(\n                    VTDD.addr,\n                    candidate\n                  );\n                }}\n                disabled={user === '' || s !== 'Approved'}\n              />\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default Commit;\n","import React from 'react';\n\nimport {\n  Header,\n} from '@aragon/ui';\n\ntype IconHeaderProps = {\n  icon: any,\n  text: string\n}\n\nfunction IconHeader({ icon, text }: IconHeaderProps) {\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <div style={{ marginRight: '2%', fontSize: 48 }}>\n          {icon}\n        </div>\n        <div>\n          <Header primary={text} />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default IconHeader;\n","import React, { useState, useEffect } from 'react';\nimport { Header, IdentityBadge } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getApproveFor, getEpoch, getIsInitialized, getPeriodFor,\n  getRecordedVote,\n  getRejectFor, getStartFor, getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {VTDD} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport Vote from \"./Vote\";\nimport VoteHeader from \"./VoteHeader\";\nimport CommitHeader from \"./CommitHeader\";\nimport Commit from \"./Commit\";\nimport IconHeader from \"../common/IconHeader\";\nimport {proposalStatus} from \"../../utils/gov\";\n\nfunction Candidate({ user }: {user: string}) {\n  const { candidate } = useParams();\n\n  const [approveFor, setApproveFor] = useState(new BigNumber(0));\n  const [rejectFor, setRejectFor] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [vote, setVote] = useState(0);\n  const [status, setStatus] = useState(0);\n  const [userStake, setUserStake] = useState(new BigNumber(0));\n  const [epoch, setEpoch] = useState(0);\n  const [startEpoch, setStartEpoch] = useState(0);\n  const [periodEpoch, setPeriodEpoch] = useState(0);\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (user === '') {\n      setVote(0);\n      setStatus(0);\n      setUserStake(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        voteStr, statusStr, userStakeStr,\n      ] = await Promise.all([\n        getRecordedVote(VTDD.addr, user, candidate),\n        getStatusOf(VTDD.addr, user),\n        getTokenBalance(VTDD.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setVote(parseInt(voteStr, 10));\n        setStatus(parseInt(statusStr, 10));\n        setUserStake(toTokenUnitsBN(userStakeStr, VTDD.decimals));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, candidate]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      let [\n        approveForStr, rejectForStr, totalStakeStr,\n        epochStr, startForStr, periodForStr, isInitialized\n      ] = await Promise.all([\n        getApproveFor(VTDD.addr, candidate),\n        getRejectFor(VTDD.addr, candidate),\n        getTokenTotalSupply(VTDD.addr),\n        getEpoch(VTDD.addr),\n        getStartFor(VTDD.addr, candidate),\n        getPeriodFor(VTDD.addr, candidate),\n        getIsInitialized(VTDD.addr, candidate),\n      ]);\n\n      const epochN = parseInt(epochStr, 10);\n      const startN = parseInt(startForStr, 10);\n      const periodN = parseInt(periodForStr, 10);\n\n      const endsAfter = (startN + periodN - 1);\n      if (epochN > endsAfter) {\n        totalStakeStr = await getTotalBondedAt(VTDD.addr, endsAfter);\n      }\n\n      if (!isCancelled) {\n        setApproveFor(toTokenUnitsBN(approveForStr, VTDD.decimals));\n        setRejectFor(toTokenUnitsBN(rejectForStr, VTDD.decimals));\n        setTotalStake(toTokenUnitsBN(totalStakeStr, VTDD.decimals));\n        setEpoch(epochN);\n        setStartEpoch(startN);\n        setPeriodEpoch(periodN);\n        setInitialized(isInitialized);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [candidate]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Candidate\"/>\n      <IdentityBadge entity={candidate} shorten={false} />\n\n      <VoteHeader\n        approveFor={approveFor}\n        rejectFor={rejectFor}\n        totalStake={totalStake}\n        showParticipation={startEpoch > 106}\n      />\n\n      <Header primary=\"Vote\" />\n      <Vote\n        candidate={candidate}\n        stake={userStake}\n        vote={vote}\n        status={status}\n      />\n\n      <Header primary=\"Commit\" />\n      <CommitHeader\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n      />\n\n      <Commit\n        user={user}\n        candidate={candidate}\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n        initialized={initialized}\n        approved={proposalStatus(epoch, startEpoch, periodEpoch, false, approveFor, rejectFor, totalStake) === \"Approved\"}\n      />\n    </>\n  );\n}\n\nexport default Candidate;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\n\nimport {Box, Distribution} from '@aragon/ui';\nimport {formatMoney, ownership} from \"../../utils/number\";\n\ntype RegulationHeaderProps = {\n  totalSupply: BigNumber,\n\n  totalBonded: BigNumber,\n  totalStaged: BigNumber,\n  totalRedeemable: BigNumber,\n\n  totalDebt: BigNumber,\n  totalCoupons: BigNumber,\n  couponPremium: BigNumber,\n};\n\nconst RegulationHeader = ({\n  totalSupply,\n  totalBonded, totalStaged, totalRedeemable,\n  totalDebt, totalCoupons, couponPremium\n}: RegulationHeaderProps) => {\n  const daoTotalSupply = totalBonded.plus(totalStaged).plus(totalRedeemable);\n  // const circulatingSupply = totalSupply.minus(daoTotalSupply).minus(poolTotalSupply);\n\n  return (\n    <>\n      <div>\n          <Box heading=\"Supply Allocation\">\n            <Distribution\n              heading={`v:${formatMoney(totalSupply.toNumber())}`}\n              items={[\n                { item: 'DAO', percentage: +(ownership(daoTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                // { item: 'Uniswap', percentage: +(ownership(poolTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                // { item: 'Circulating', percentage: +(ownership(circulatingSupply, totalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box>\n\n          <Box heading=\"DAO Breakdown\">\n            <Distribution\n              heading={`v:${formatMoney(daoTotalSupply.toNumber())}`}\n              items={[\n                { item: 'Bonded', percentage: +(ownership(totalBonded, daoTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Staged', percentage: +(ownership(totalStaged, daoTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Redeemable', percentage: +(ownership(totalRedeemable, daoTotalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box>\n\n\n          {/* <Box heading=\"Uniswap Breakdown\">\n            <Distribution\n              heading={`v:${formatMoney(poolTotalSupply.toNumber())}`}\n              items={[\n                { item: 'Liquidity', percentage: +(ownership(poolLiquidity, poolTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Rewarded', percentage: +(ownership(poolRewarded, poolTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Claimable', percentage: +(ownership(poolClaimable, poolTotalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box> */}\n\n      </div>\n    </>\n  );\n}\n\n\nexport default RegulationHeader;\n","import React, {useEffect, useState, useContext} from 'react';\nimport { DataView } from '@aragon/ui';\n\nimport {getAllRegulations} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport {EpochContext, ContextType, IEpochs } from \"../../store/EpochStore\";\n\ntype RegulationHistoryProps = {\n  user: string,\n};\n\ntype Regulation = {\n  type: string,\n  data: RegulationEntry\n}\n\ntype RegulationEntry = {\n  epoch: string;\n  price: string;\n  momentumPrice: string;\n  deltaRedeemable: string;\n  deltaDebt: string;\n  deltaBonded: string;\n}\n\nfunction formatPrice(reg) {\n  return reg.epochtype === 'NEUTRAL' ? '1.00' : formatBN(reg.price, 2)\n}\n\nfunction formatMomentumPrice(reg) {\n  return !!reg.momentumPrice.toNumber() ? formatBN(reg.momentumPrice, 2) : '-'\n}\nfunction formatDeltaRedeemable(reg) {\n  return reg.epochtype === 'INCREASE' ?\n    '+' + formatBN(reg.newRedeemable, 2) :\n    '+0.00';\n}\n\nfunction formatDeltaDebt(reg) {\n  return reg.epochtype === 'INCREASE' ?\n    '-' + formatBN(reg.lessDebt, 2) :\n    reg.epochtype === 'DECREASE' ?\n      '+' + formatBN(reg.newDebt, 2) :\n      '+0.00';\n}\n\nfunction formatDeltaBonded(reg) {\n  return reg.epochtype === 'INCREASE' ?\n    '+' + formatBN(reg.newBonded, 2) :\n    '+0.00';\n}\n\nfunction renderEntry(reg: IEpochs): string[] {\n  return [\n    reg.epoch.toString(),\n    formatPrice(reg),\n    formatMomentumPrice(reg),\n    formatDeltaRedeemable(reg),\n    formatDeltaDebt(reg),\n    formatDeltaBonded(reg),\n  ]\n}\n\nfunction RegulationHistory({\n  user,\n}: RegulationHistoryProps) {\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n  const { regulations, updateRegulations} = React.useContext(EpochContext) as ContextType;\n\n  //Update User balances\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      updateRegulations();\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      fields={['Epoch', 'Price', 'Momentum Price', ' Redeemable', ' Debt', ' Bonded']}\n      status={ initialized ? 'default' : 'loading' }\n      entries={regulations}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={renderEntry}\n    />\n  );\n}\n\nexport default RegulationHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header, Split } from '@aragon/ui';\n\nimport {\n  getCouponPremium,\n  getPoolTotalClaimable, getPoolTotalRewarded, getTokenBalance,\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged,\n} from '../../utils/infura';\nimport {VTD, VTDD} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport RegulationHeader from \"./Header\";\nimport RegulationHistory from \"./RegulationHistory\";\nimport IconHeader from \"../common/IconHeader\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction Regulation({ user }: {user: string}) {\n\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\n  const [totalBonded, setTotalBonded] = useState(new BigNumber(0));\n  const [totalStaged, setTotalStaged] = useState(new BigNumber(0));\n  const [totalRedeemable, setTotalRedeemable] = useState(new BigNumber(0));\n  const [poolLiquidity, setPoolLiquidity] = useState(new BigNumber(0));\n  const [poolTotalRewarded, setPoolTotalRewarded] = useState(new BigNumber(0));\n  const [poolTotalClaimable, setPoolTotalClaimable] = useState(new BigNumber(0));\n  const [legacyPoolTotalRewarded, setLegacyPoolTotalRewarded] = useState(new BigNumber(0));\n  const [legacyPoolTotalClaimable, setLegacyPoolTotalClaimable] = useState(new BigNumber(0));\n  const [totalDebt, setTotalDebt] = useState(new BigNumber(0));\n  const [totalCoupons, setTotalCoupons] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n\n      const [\n        totalSupplyStr,\n        totalBondedStr, totalStagedStr, totalRedeemableStr,\n        totalDebtStr, totalCouponsStr\n      ] = await Promise.all([\n        getTokenTotalSupply(VTD.addr),\n\n        getTotalBonded(VTDD.addr),\n        getTotalStaged(VTDD.addr),\n        getTotalRedeemable(VTDD.addr),\n\n        // getTokenBalance(VTD.addr, UNI.addr),\n        // getPoolTotalRewarded(poolAddress),\n        // getPoolTotalClaimable(poolAddress),\n\n        // getPoolTotalRewarded(legacyPoolAddress),\n        // getPoolTotalClaimable(legacyPoolAddress),\n\n        getTotalDebt(VTDD.addr),\n        getTotalCoupons(VTDD.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, VTD.decimals));\n\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, VTD.decimals));\n        setTotalStaged(toTokenUnitsBN(totalStagedStr, VTD.decimals));\n        setTotalRedeemable(toTokenUnitsBN(totalRedeemableStr, VTD.decimals));\n\n        // setPoolLiquidity(toTokenUnitsBN(poolLiquidityStr, VTD.decimals));\n        // setPoolTotalRewarded(toTokenUnitsBN(poolTotalRewardedStr, VTD.decimals));\n        // setPoolTotalClaimable(toTokenUnitsBN(poolTotalClaimableStr, VTD.decimals));\n\n        // setLegacyPoolTotalRewarded(toTokenUnitsBN(legacyPoolTotalRewardedStr, VTD.decimals));\n        // setLegacyPoolTotalClaimable(toTokenUnitsBN(legacyPoolTotalClaimableStr, VTD.decimals));\n\n        setTotalDebt(toTokenUnitsBN(totalDebtStr, VTD.decimals));\n        setTotalCoupons(toTokenUnitsBN(totalCouponsStr, VTD.decimals));\n\n        if (new BigNumber(totalDebtStr).isGreaterThan(ONE_COUPON)) {\n          const couponPremiumStr = await getCouponPremium(VTDD.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, VTD.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <Split\n        primary={\n          <>\n          {/* <Header primary=\"Supply History\" /> */}\n\n          <RegulationHistory\n            user={user}\n          />\n          </>\n        }\n        secondary={\n          <RegulationHeader\n          totalSupply={totalSupply}\n  \n          totalBonded={totalBonded}\n          totalStaged={totalStaged}\n          totalRedeemable={totalRedeemable}\n  \n          totalDebt={totalDebt}\n          totalCoupons={totalCoupons}\n          couponPremium={couponPremium}\n        />\n        }\n      />\n    </>\n  );\n}\n\nexport default Regulation;\n","import React from 'react';\nimport {\n  Box, LinkBase, Tag,\n} from '@aragon/ui';\n\nfunction HomePageNoWeb3() {\n\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <MainButton\n          title=\"No web3 wallet detected\"\n          description=\"Click to get Metamask.\"\n          icon={<i className=\"fas fa-times-circle\"/>}\n          onClick={() => {\n            // @ts-ignore\n            window.location = 'https://www.metamask.io/';\n          }}\n        />\n      </div>\n    </>\n  );\n}\n\ntype MainButtonPropx = {\n  title: string,\n  description: string,\n  icon: any,\n  onClick: Function,\n  tag?:string\n}\n\nfunction MainButton({\n  title, description, icon, onClick, tag,\n}:MainButtonPropx) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\n      <Box>\n        <div style={{ padding: 10, fontSize: 18 }}>\n          {title}\n          {tag ? <Tag>{tag}</Tag> : <></>}\n        </div>\n        <span style={{ fontSize: 48 }}>\n          {icon}\n        </span>\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\n          {' '}\n          {description}\n          {' '}\n        </div>\n\n      </Box>\n    </LinkBase>\n  );\n}\n\nexport default HomePageNoWeb3;\n","const vtdTheme = {\n    \"palette\": {\n      \"accents_1\": \"#111\",\n      \"accents_2\": \"#333\",\n      \"accents_3\": \"#444\",\n      \"accents_4\": \"#666\",\n      \"accents_5\": \"#888\",\n      \"accents_6\": \"#999\",\n      \"accents_7\": \"#eaeaea\",\n      \"accents_8\": \"#fafafa\",\n      \"background\": \"#212121\",\n      \"foreground\": \"#fff\",\n      \"selection\": \"#f81ce5\",\n      \"secondary\": \"#888\",\n      \"code\": \"#79ffe1\",\n      \"border\": \"#333\",\n      \"link\": \"#3291ff\"\n    },\n    \"expressiveness\": {\n      \"dropdownBoxShadow\": \"0 0 0 1px #333\",\n      \"shadowSmall\": \"0 0 0 1px #333\",\n      \"shadowMedium\": \"0 0 0 1px #333\",\n      \"shadowLarge\": \"0 0 0 1px #333\",\n      \"portalOpacity\": 0.75\n    }\n  }\n\nexport default vtdTheme;","import React, { useMemo, useEffect, useState } from 'react'\nimport { useTheme } from '@geist-ui/react'\nimport { useHistory } from 'react-router-dom';\nimport _JSXStyle from \"styled-jsx/style\"\n\nexport interface Props {\n  href: string\n  text: string\n  closeSideBar: Function\n}\n\nconst ActiveLink: React.FC<Props> = React.memo(({ href, text, closeSideBar }) => {\n  const [page, setPage] = useState(\"\");\n  const theme = useTheme()\n  const history = useHistory()\n  const [title, subtitle] = useMemo(() => {\n    if (!/[\\u4E00-\\u9FA5]/.test(text)) return [text, null]\n    if (/zeit|ui|ZEIT|geist|Geist|UI/.test(text)) return [text, null]\n    return [text.replace(/[^\\u4E00-\\u9FA5]/g, ''), text.replace(/[^a-zA-Z]/g, '')]\n  }, [text])\n\n  useEffect(() => {\n    return history.listen((location) => {\n      setPage(location.pathname)\n    })\n  }, [history]);\n  \n  return (\n    <div className=\"link\">\n        <a onClick={() => {closeSideBar(); history.push(href)}} className={page.includes(href) ? 'active' : ''}>\n          {title}\n          {subtitle && <span>&nbsp;{subtitle}</span>}\n        </a>\n\n      <style jsx>{`\n        .link {\n          width: 100%;\n          color: ${theme.palette.accents_5};\n          display: flex;\n          height: 2.25rem;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          text-transform: capitalize;\n          padding-bottom: 1rem;\n        }\n\n        a {\n          color: ${theme.palette.accents_7};\n          font-size: 1rem;\n          transition: all 200ms ease;\n          font-weight: 400;\n          display: inline-flex;\n          align-items: baseline;\n        }\n\n        a.active {\n          color: ${theme.palette.success};\n          font-weight: 600;\n        }\n\n        a.active span {\n          color: ${theme.palette.successLight};\n        }\n\n        span {\n          font-size: 0.75rem;\n          color: ${theme.palette.accents_4};\n          font-weight: 400;\n        }\n      `}</style>\n    </div>\n  )\n})\n\nexport default ActiveLink\n","import React, { ReactElement } from 'react'\nimport { useTheme, Spacer } from '@geist-ui/react'\nimport ActiveLink from './active-link'\nimport _JSXStyle from \"styled-jsx/style\"\n\nexport type Sides = {\n  name: string\n  url?: string\n  localeName?: string\n  children?: Sides | Array<Sides>\n}\n\nexport interface SideItemProps {\n  sides: Array<Sides>\n  closeSideBar: Function\n}\n\nconst SideItem: React.FC<React.PropsWithChildren<SideItemProps>> = React.memo(\n  ({sides, closeSideBar }) => {\n    const theme = useTheme()\n\n    return (\n      <>\n        {sides.map((side, index) => {\n          // const showChildren = side.children && children\n          return (\n            <div key={`${side.localeName || side.name}-${index}`} className=\"item\">\n              {side.url && <ActiveLink href={side.url} text={side.name} closeSideBar={closeSideBar}/>}\n\n              {/* {showChildren && (\n                <div className=\"children\">\n                  {React.cloneElement(children as ReactElement, {\n                    sides: side.children,\n                  })}\n                </div>\n              )} */}\n            </div>\n          )\n        })}\n        <style jsx>{`\n          .item {\n            width: 100%;\n          }\n\n          .children {\n            display: flex;\n            justify-content: center;\n            align-items: flex-start;\n            flex-direction: column;\n            transition: all 0.2s ease-in-out;\n            position: relative;\n            margin-top: 0.5rem;\n          }\n\n          .active-title {\n            font-weight: bold;\n          }\n\n          @media only screen and (max-width: ${theme.layout.breakpointMobile}) {\n            .link {\n              border-bottom: 1px solid ${theme.palette.border};\n              height: 3.5rem;\n            }\n          }\n        `}</style>\n      </>\n    )\n  },\n)\n\nexport default SideItem\n","/**\n * Wait transactions to be mined.\n *\n * Based on https://raw.githubusercontent.com/Kaisle/await-transaction-mined/master/index.js\n */\n\nimport Web3 from 'web3';\n\nconst DEFAULT_INTERVAL = 500;\n\nconst DEFAULT_BLOCKS_TO_WAIT = 0;\n\ninterface Options {\n  interval: number;\n  blocksToWait: number;\n}\n\n/**\n * Wait for one or multiple transactions to confirm.\n *\n * @param txnHash A transaction hash or list of those\n * @param options Wait timers\n * @return Transaction receipt\n */\nexport function waitTransaction(txnHash: string|string[], options?: Options): Promise<any> {\n    // @ts-ignore\n    const web3 = window.web3;\n    const interval = options && options.interval ? options.interval : DEFAULT_INTERVAL;\n    const blocksToWait = options && options.blocksToWait ? options.blocksToWait : DEFAULT_BLOCKS_TO_WAIT;\n    var transactionReceiptAsync = async function(txnHash, resolve, reject) {\n        try {\n            var receipt = web3.eth.getTransactionReceipt(txnHash);\n            if (!receipt) {\n                setTimeout(function () {\n                    transactionReceiptAsync(txnHash, resolve, reject);\n                }, interval);\n            } else {\n      \n                var resolvedReceipt = await receipt;\n                if (!resolvedReceipt || !resolvedReceipt.blockNumber) setTimeout(function () { transactionReceiptAsync(txnHash, resolve, reject);\n                }, interval);\n                else {\n                  try {\n                  var block = await web3.eth.getBlock(resolvedReceipt.blockNumber)\n                  var current = await web3.eth.getBlock('latest');\n                  if (current.number - block.number >= blocksToWait) {\n                    var txn = await web3.eth.getTransaction(txnHash)\n                    if (txn.blockNumber != null) resolve(resolvedReceipt);\n                    else reject(new Error('Transaction with hash: ' + txnHash + ' ended up in an uncle block.'));\n                  }\n                  else setTimeout(function () {\n                      transactionReceiptAsync(txnHash, resolve, reject);\n                  }, interval);\n                  }\n                  catch (e) {\n                    setTimeout(function () {\n                        transactionReceiptAsync(txnHash, resolve, reject);\n                    }, interval);\n                  }\n                }\n            }\n        } catch(e) {\n            reject(e);\n        }\n    };\n\n    // Resolve multiple transactions once\n    if (Array.isArray(txnHash)) {\n        var promises = [];\n        txnHash.forEach(function (oneTxHash) {\n            //@ts-ignore\n            promises.push(waitTransaction(oneTxHash, options));\n        });\n        return Promise.all(promises);\n    } else {\n        return new Promise(function (resolve, reject) {\n                transactionReceiptAsync(txnHash, resolve, reject);\n            });\n    }\n};\n\n\n/**\n * Check if the transaction was success based on the receipt.\n *\n * https://ethereum.stackexchange.com/a/45967/620\n *\n * @param receipt Transaction receipt\n */\nexport function isSuccessfulTransaction(receipt: any): boolean {\n  if(receipt.status == '0x1' || receipt.status == 1) {\n    return true;\n  } else {\n    return false;\n  }\n}","import React, { useState, useCallback } from 'react';\nimport { LoadingRing } from '@aragon/ui'\nimport {waitTransaction} from '../../../utils/txStatus'\nimport {\n  Button, TransactionProgress\n} from '@aragon/ui';\n\nfunction PendingTxButton() {\n    const [pendingTxVisible, setPendingTxVisible] = useState(false);\n    const [pendingTxStr, setPendingTxStr] = useState('');\n    const [opener, setOpener] = useState(null);\n    const handleOpenerRef = useCallback(node => {\n      setOpener(node)\n    }, [])\n    \n    async function tick(){\n        const _tx = localStorage.getItem('pendingtx')\n        if (_tx) {\n            setPendingTxStr(_tx);\n            var status = await waitTransaction(_tx);\n            console.log(status)\n            localStorage.removeItem('pendingtx');\n        } else {\n            setPendingTxStr('');\n            setPendingTxVisible(false);\n        }\n    };\n\n    setInterval(\n    () => tick(),\n    5000\n    );\n  return (\n    <div style={{display: 'flex', margin:'0 auto'}}>\n        {pendingTxStr ? \n        <div ref={handleOpenerRef} style={{display: 'flex'}}>\n            <Button style={{\n                background: 'rgb(181, 106, 52)',\n                fontSize: '14px',\n                fontFamily: 'aragon-ui',\n                borderRadius: '25px'\n            }} ref={handleOpenerRef} onClick={() => setPendingTxVisible(true)}><LoadingRing/>Pending Tx</Button>\n        </div>\n        : ''}\n\n            <TransactionProgress\n              transactionHashUrl={'https://etherscan.io/tx/' + pendingTxStr}\n              visible={pendingTxVisible}\n              onClose={() => setPendingTxVisible(false)}\n              opener={opener}\n            />\n    </div>\n  );\n}\n\n\nexport default PendingTxButton;\n","import React, { useRef } from 'react'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useTheme, Spacer } from '@geist-ui/react'\nimport SideItem, { Sides } from './side-item'\nimport PendingTxButton from './PendingTx';\nimport _JSXStyle from \"styled-jsx/style\"\n\nexport interface Props {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function,\n  closeSideBar: Function\n}\n\nexport type SideChildren = Sides | Array<Sides>\n\nexport const SideGroup: React.FC<{ sides?: SideChildren, closeSideBar }> = React.memo(({ sides, closeSideBar }) => {\n  if (!sides) return null\n  sides = Array.isArray(sides) ? sides : [sides]\n  return (\n    <SideItem sides={sides} closeSideBar={closeSideBar}>\n      <SideGroup closeSideBar={closeSideBar}/>\n    </SideItem>\n  )\n})\n\nexport const Sidebar: React.FC<Props> = React.memo((props) => {\n  const theme = useTheme()\n  const boxRef = useRef<HTMLDivElement>(null)\n  const sides = [\n    {name: \"Core\", url: '/dao/', children: []},\n    {name: \"Supply\", url: '/supply/', children: []},\n    {name: \"Propose/Vote\", url: '/governance/', children: []},\n    {name: \"Debt\", url: '/coupons/', children: []},\n    {name: \"Tools\", url: '/tools/', children: []}  \n  ]\n\n  // const tabbarData = useMemo(() => {\n  //   const allSides = [Metadatas[locale]]\n  //   const currentSide = allSides.filter(side => side.name === tabbar)[0]\n  //   return (currentSide.children || []) as Array<Sides>\n  // }, [locale, tabbar])\n\n  // useEffect(() => {\n  //   Router.events.on('routeChangeStart', () => {\n  //     if (!boxRef.current) return\n  //     updateSidebarScrollHeight(boxRef.current.scrollTop || 0)\n  //   })\n  // }, [])\n\n  // useEffect(() => {\n  //   if (!boxRef.current) return\n  //   boxRef.current.scrollTo({ top: sidebarScrollHeight })\n  // }, [boxRef.current])\n\n  return (\n    <div ref={boxRef} className=\"sides box\">\n      <Spacer />\n      <SideItem sides={sides} closeSideBar={props.closeSideBar}>\n        {/* <SideGroup /> */}\n      </SideItem>\n      <Spacer />\n      <PendingTxButton />\n\n      <style jsx>{`\n        .sides {\n          width: 100%;\n          padding-bottom: ${theme.layout.gap};\n        }\n\n        .box {\n          overflow-y: auto;\n          overflow-x: hidden;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n\n        .box::-webkit-scrollbar {\n          width: 0;\n          background-color: transparent;\n        }\n\n        .box > :global(.item) {\n          margin-bottom: ${theme.layout.gap};\n        }\n\n        @media only screen and (max-width: ${theme.layout.breakpointMobile}) {\n          .box {\n            padding: calc(3.5 * ${theme.layout.gap}) 15vw;\n            width: 100vw;\n            height: 100%;\n          }\n        }\n      `}</style>\n    </div>\n  )\n})\n\nexport default Sidebar\n","import React from 'react'\nimport { Button, useTheme, useMediaQuery } from '@geist-ui/react'\nimport SlidersIcon from '@geist-ui/react-icons/sliders'\nimport _JSXStyle from \"styled-jsx/style\"\n\ninterface Props {\n  connectButton: any\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void\n}\n\nconst TabbarMobile: React.FC<Props> = ({ onClick, connectButton }) => {\n  const theme = useTheme()\n  const downSM = useMediaQuery('sm', { match: 'down' })\n  const handler = (event: React.MouseEvent<HTMLButtonElement>) => {\n    onClick && onClick(event)\n  }\n\n  return (\n    <div className=\"tabbar\">\n      <Button className=\"toggle\" auto type=\"abort\" onClick={handler}>\n        <SlidersIcon size={16} />\n      </Button>\n      {downSM ? connectButton : <></>}\n\n      <style jsx>{`\n        .tabbar {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          z-index: 950;\n          height: 3.7rem;\n          background-color: ${theme.palette.background};\n          display: flex;\n          align-items: center;\n          padding: 0 calc(${theme.layout.gap} * 2);\n          box-sizing: border-box;\n          justify-content: space-between;\n          border-bottom: 1px solid ${theme.palette.border};\n        }\n\n        .tabbar :global(.toggle) {\n          width: 40px;\n          height: 40px;\n          padding: 0;\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          color: ${theme.palette.accents_6};\n        }\n\n        span {\n          color: ${theme.palette.accents_7};\n          font-size: 0.75rem;\n          display: inline-flex;\n          text-transform: capitalize;\n        }\n\n        @media only screen and (min-width: ${theme.layout.breakpointMobile}) {\n          .tabbar {\n            display: none;\n            visibility: hidden;\n            top: -1000px;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default TabbarMobile\n","import React, { useEffect } from 'react';\nimport { Modal, Button, Header } from '@aragon/ui';\nimport { useWallet } from 'use-wallet';\n\ntype ConnectModalProps = {\n  visible: boolean,\n  onClose: Function,\n  onConnect: Function\n};\n\nfunction ConnectModal({\n  visible, onClose, onConnect\n}:ConnectModalProps) {\n  const wallet = useWallet();\n\n  const connectMetamask = () => {\n    wallet.connect(\"injected\");\n  };\n\n  const connectWalletConnect = () => {\n    wallet.connect(\"walletconnect\");\n  };\n\n  const connectCoinbase = () => {\n    wallet.connect(\"walletlink\");\n  };\n\n  useEffect(() => {\n    if (wallet.account) {\n      onConnect && onConnect(wallet);\n      onClose && onClose();\n    }\n  }, [wallet, onConnect, onClose]);\n\n  return (\n    <Modal visible={visible} onClose={onClose} style={{zIndex: '500', backgroundColor: '#000'}}>\n\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'Metamask'}\n          icon={<img src={`./wallets/metamask-fox.svg`} style={{ height: 24 }} alt=\"Metamask\"/>}\n          onClick={connectMetamask}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'WalletConnect'}\n          icon={<img src={`./wallets/wallet-connect.svg`} style={{ height: 24 }} alt=\"WalletConnect\"/>}\n          onClick={connectWalletConnect}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'Coinbase Wallet'}\n          icon={<img src={`./wallets/coinbase-wallet.png`} style={{ height: 24 }} alt=\"Coinbase Wallet\"/>}\n          onClick={connectCoinbase}\n        />\n      </div>\n    </Modal>\n  );\n}\n\nexport default ConnectModal;\n","import React, { useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport { LogOut } from '@geist-ui/react-icons'\nimport { Button, Spacer, useMediaQuery } from '@geist-ui/react'\n\nimport {\n  IdentityBadge, IconConnect, LinkBase,\n} from '@aragon/ui';\n\nimport { connect } from '../../../utils/web3';\n// import TotalBalance from \"./TotalBalance\";\nimport ConnectModal from './ConnectModal';\n\ntype connectButtonProps = {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function\n}\n\nfunction ConnectButton({ hasWeb3, user, setUser }: connectButtonProps) {\n  const { status, reset } = useWallet();\n\n  const [isModalOpen, setModalOpen] = useState(false);\n  const downSM = useMediaQuery('sm', { match: 'down' })\n\n  const connectWeb3 = async (wallet) => {\n    connect(wallet.ethereum);\n    setUser(wallet.account);\n  };\n\n  const disconnectWeb3 = async () => {\n    setUser('');\n    reset();\n  };\n\n  const toggleModal = () => setModalOpen(!isModalOpen);\n\n  return status === 'connected' ? (\n    <div style={{display: 'flex', flexDirection: 'column', minHeight: '5rem', justifyContent: 'space-evenly'}}>\n      {downSM ? <></> :<IdentityBadge entity={user} /> }\n      <LinkBase onClick={disconnectWeb3} style={{marginRight: '8px', height: '24px'}}>\n        <Button shadow icon={<LogOut />} auto size=\"small\">Log Out</Button>\n      </LinkBase>\n    </div>\n  ) : (\n    <>\n      <ConnectModal visible={isModalOpen} onClose={toggleModal} onConnect={connectWeb3}/>\n      <Button icon={<IconConnect />} onClick={toggleModal} disabled={!hasWeb3} auto size=\"small\"> Connect</Button>\n    </>\n  );\n}\n\n\nexport default ConnectButton;\n","import React, { useEffect, useState } from 'react'\nimport Sidebar from './sidebar'\nimport TabbarMobile from './sidebar/tabbar-mobile'\nimport { useTheme, useMediaQuery } from '@geist-ui/react'\nimport ConnectButton from './sidebar/ConnectButton';\nimport { useHistory } from 'react-router-dom';\nimport _JSXStyle from \"styled-jsx/style\"\n\nexport interface Props {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function,\n  getStaticProps?: any\n}\n\nexport const Layout: React.FC<React.PropsWithChildren<Props>> = React.memo((props, { children }) => {\n  const [expanded, setExpanded] = useState<boolean>(false)\n  const theme = useTheme()\n  const history = useHistory()\n  const mobileTabbarClickHandler = () => {\n    setExpanded(!expanded)\n  }\n  const logoUrl = `./logo/logo.jpeg` \n  const upSM = useMediaQuery('sm', { match: 'up' })\n  useEffect(() => {})\n\n  return (\n    <div className=\"layout\">\n      <TabbarMobile onClick={mobileTabbarClickHandler} connectButton={<ConnectButton hasWeb3={props.hasWeb3} user={props.user} setUser={props.setUser} />} />\n      <aside className=\"sidebar\">\n        <div style={{\n                margin: '10px'\n              }}>\n          <a onClick={() => history.push('/')} style={{\n            marginRight: '16px', \n            height: '40px',\n            // background: '#0a133e'\n            \n            }}>\n\n            <img src={logoUrl} style={{\n              borderRadius: '50%',\n            }} height=\"25px\" alt=\"Variable Timing Dollar\"/>\n          </a>\n          <small style={{\n            position: 'absolute',\n            top: '10px'\n          }}\n          \n        >VTD</small>\n        </div>\n\n        {upSM ? <ConnectButton hasWeb3={props.hasWeb3} user={props.user} setUser={props.setUser} /> : <></>}\n        <Sidebar hasWeb3={props.hasWeb3} user={props.user} setUser={props.setUser} closeSideBar={mobileTabbarClickHandler}/>\n      </aside>\n      <div className=\"side-shadow\" />\n      <main className=\"main\">\n       {props.children}\n      </main>\n      {/* @ts-ignore */}\n      <style jsx>{`\n        .layout {\n          min-height: calc(100vh - 108px);\n          max-width: 100vw;\n          margin: 0 auto;\n          padding: 0 ${theme.layout.gap};\n          display: flex;\n          box-sizing: border-box;\n          background: ${theme.palette.background};\n        }\n\n        .sidebar {\n          width: 120px;\n          margin-right: 20px;\n          -webkit-overflow-scrolling: touch;\n          -webkit-flex-shrink: 0;\n          height: calc(100% - 2rem - 10px + ${false ? '60px' : 0});\n          position: fixed;\n          top: 10px;\n          bottom: 2rem;\n          transform: translateY(${false ? '-60px' : 0});\n          transition: transform 200ms ease-out;\n          z-index: 100;\n        }\n\n        .side-shadow {\n          width: 140px;\n          flex-shrink: 0;\n          height: 100vh;\n        }\n\n        .main {\n          display: flex;\n          max-width: calc(100% - 140px);\n          flex-direction: column;\n          padding-left: 20px;\n          padding-top: 25px;\n          flex: 0 0 100%;\n          padding-bottom: 150px;\n        }\n\n        @media only screen and (max-width: ${theme.layout.breakpointMobile}) {\n          .layout {\n            max-width: 100%;\n            width: 100%;\n            padding: 5rem 1rem;\n          }\n\n          .sidebar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            z-index: 10;\n            width: 100vw;\n            height: ${expanded ? '100vh' : '0'};\n            background-color: ${theme.palette.background};\n            padding: 0;\n            overflow: hidden;\n            transition: height 250ms ease;\n          }\n\n          .main {\n            width: 90vw;\n            max-width: 90vw;\n            padding: 0;\n          }\n\n          .side-shadow {\n            display: none;\n            visibility: hidden;\n          }\n        }\n      `}</style>\n    </div>\n  )\n})\n\nexport default Layout\n","import React, {useEffect, useState, useContext} from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Root, Viewport, Theme } from '@aragon/ui';\nimport { UseWalletProvider } from 'use-wallet';\nimport { updateModalMode } from './utils/web3';\nimport { storePreference, getPreference } from './utils/storage';\nimport NavBar from './components/NavBar';\nimport Wallet from \"./components/Wallet\";\nimport Stats from \"./components/Stats\";\n// import SellPressure from \"./components/Stats/sellpressure\";\nimport EpochDetail from \"./components/EpochDetail\";\nimport CouponMarket from \"./components/CouponMarket\";\nimport Governance from \"./components/Governance\";\nimport Candidate from \"./components/Candidate\";\nimport Regulation from \"./components/Regulation\";\nimport Pool from \"./components/Pool\";\nimport HomePageNoWeb3 from \"./components/HomePageNoWeb3\";\nimport vtdTheme from \"./theme/\";\nimport {MainStoreProvider} from \"./store/MainStore\";\nimport {EpochStoreProvider} from \"./store/EpochStore\";\nimport { ButtonGroup, Button, GeistProvider, Card, Divider, CssBaseline, Page } from '@geist-ui/react'\nimport Layout from \"./components/layout/layout\"\n\n\nfunction App() {\n  const storedTheme = getPreference('theme', 'dark');\n  const [hasWeb3, setHasWeb3] = useState(false);\n  const [user, setUser] = useState(''); // the current connected user\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        // @ts-ignore\n        setHasWeb3(typeof window.ethereum !== 'undefined');\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <GeistProvider theme={vtdTheme} >\n    <Router>\n      <UseWalletProvider\n        chainId={1}\n        connectors={{\n          walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\n          walletlink: {\n            url: 'https://mainnet.eth.aragon.network/',\n            appName:'Coinbase Wallet',\n            appLogoUrl: ''\n          }\n        }}\n      >\n        {/* @ts-ignore */}\n        <MainStoreProvider><EpochStoreProvider>\n            <CssBaseline />\n\n            <Root.Provider>\n              <Viewport.Provider>\n                <Layout hasWeb3={hasWeb3} user={user} setUser={setUser}>\n                  <Theme theme={'dark'}>\n                  {\n                    hasWeb3 ?\n                      <Switch>\n                        <Route path=\"/dao/:override\"><Wallet user={user}/></Route>\n                        <Route path=\"/dao/\"><Wallet user={user}/></Route>\n                        <Route path=\"/epoch/\"><EpochDetail user={user}/></Route>\n                        <Route path=\"/coupons/:override\"><CouponMarket user={user}/></Route>\n                        <Route path=\"/coupons/\"><CouponMarket user={user}/></Route>\n                        <Route path=\"/governance/candidate/:candidate\"><Candidate user={user}/></Route>\n                        <Route path=\"/governance/\"><Governance user={user}/></Route>\n                        {/* <Route path=\"/trade/\"><Trade user={user}/></Route> */}\n                        <Route path=\"/supply/\"><Regulation user={user}/></Route>\n                        {/* <Route path=\"/pool/:override\"><Pool user={user}/></Route>\n                        <Route path=\"/pool/\"><Pool user={user}/></Route> */}\n                        <Route path=\"/tools/\"><Stats user={user}/></Route>\n                        {/* <Route path=\"/bondstats/\"><SellPressure/></Route> */}\n\n                        <Route path=\"/\"><Wallet user={user}/></Route>\n                      </Switch>\n                      :\n                      <Switch>\n                        <Route path=\"/\"><HomePageNoWeb3/></Route>\n                      </Switch>\n                  }\n                  </Theme>\n                </Layout>\n              </Viewport.Provider>\n            </Root.Provider>\n        </EpochStoreProvider></MainStoreProvider>\n      </UseWalletProvider>\n    </Router>\n    </GeistProvider>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport Moment from 'moment'\nimport momentLocalizer from 'react-widgets-moment';\n\nMoment.locale('en')\nmomentLocalizer()\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}